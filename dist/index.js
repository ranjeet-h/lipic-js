var I={consonants:["\u0915","\u0916","\u0917","\u0918","\u0919","\u091A","\u091B","\u091C","\u091D","\u091E","\u091F","\u0920","\u0921","\u0922","\u0923","\u0924","\u0925","\u0926","\u0927","\u0928","\u092A","\u092B","\u092C","\u092D","\u092E","\u092F","\u0930","\u0932","\u0935","\u0936","\u0937","\u0938","\u0939","\u0933"],vowelsIndependent:["\u0905","\u0906","\u0907","\u0908","\u0909","\u090A","\u090B","\u0960","\u090C","\u0961","\u090F","\u0910","\u0913","\u0914","\u0972","\u0911"],vowelMatras:["\u093E","\u093F","\u0940","\u0941","\u0942","\u0943","\u0944","\u0962","\u0963","\u0947","\u0948","\u094B","\u094C","\u0945","\u0949"],halant:"\u094D",digits:["\u0966","\u0967","\u0968","\u0969","\u096A","\u096B","\u096C","\u096D","\u096E","\u096F"],marks:{anusvara:"\u0902",chandrabindu:"\u0901",visarga:"\u0903"}};var A={a:{type:"vowel",glyph:"\u0905",matra:""},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},b:{type:"consonant",glyph:"\u092C"},bh:{type:"consonant",glyph:"\u092D"},ch:{type:"consonant",glyph:"\u091A"},chh:{type:"consonant",glyph:"\u091B"},d:{type:"consonant",glyph:"\u0926"},D:{type:"consonant",glyph:"\u0921"},dh:{type:"consonant",glyph:"\u0927"},Dh:{type:"consonant",glyph:"\u0922"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},f:{type:"consonant",glyph:"\u092B\u093C"},g:{type:"consonant",glyph:"\u0917"},gh:{type:"consonant",glyph:"\u0918"},gy:{type:"conjunct",glyph:"\u091C\u094D\u091E"},h:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},j:{type:"consonant",glyph:"\u091C"},jh:{type:"consonant",glyph:"\u091D"},k:{type:"consonant",glyph:"\u0915"},kh:{type:"consonant",glyph:"\u0916"},ksh:{type:"conjunct",glyph:"\u0915\u094D\u0937"},l:{type:"consonant",glyph:"\u0932"},m:{type:"consonant",glyph:"\u092E"},n:{type:"consonant",glyph:"\u0928"},N:{type:"consonant",glyph:"\u0923"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},p:{type:"consonant",glyph:"\u092A"},ph:{type:"consonant",glyph:"\u092B"},q:{type:"consonant",glyph:"\u0915\u093C"},r:{type:"consonant",glyph:"\u0930"},rh:{type:"consonant",glyph:"\u0922\u093C"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},s:{type:"consonant",glyph:"\u0938"},sh:{type:"consonant",glyph:"\u0936"},shh:{type:"consonant",glyph:"\u0937"},shr:{type:"conjunct",glyph:"\u0936\u094D\u0930"},t:{type:"consonant",glyph:"\u0924"},T:{type:"consonant",glyph:"\u091F"},th:{type:"consonant",glyph:"\u0925"},Th:{type:"consonant",glyph:"\u0920"},tr:{type:"conjunct",glyph:"\u0924\u094D\u0930"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},v:{type:"consonant",glyph:"\u0935"},w:{type:"consonant",glyph:"\u0935"},y:{type:"consonant",glyph:"\u092F"},z:{type:"consonant",glyph:"\u091C\u093C"}};var S={a:{type:"vowel",glyph:"\u0905",matra:""},A:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},ba:{type:"consonant",glyph:"\u092C"},bha:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},cha:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0926"},Da:{type:"consonant",glyph:"\u0921"},dha:{type:"consonant",glyph:"\u0927"},Dha:{type:"consonant",glyph:"\u0922"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},ga:{type:"consonant",glyph:"\u0917"},Ga:{type:"consonant",glyph:"\u0919"},gha:{type:"consonant",glyph:"\u0918"},H:{type:"mark",glyph:"\u0903"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},I:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ja:{type:"consonant",glyph:"\u091C"},Ja:{type:"consonant",glyph:"\u091E"},jha:{type:"consonant",glyph:"\u091D"},jJa:{type:"conjunct",glyph:"\u091C\u094D\u091E"},ka:{type:"consonant",glyph:"\u0915"},kha:{type:"consonant",glyph:"\u0916"},kSa:{type:"conjunct",glyph:"\u0915\u094D\u0937"},la:{type:"consonant",glyph:"\u0932"},lR:{type:"vowel",glyph:"\u090C",matra:"\u0962"},M:{type:"mark",glyph:"\u0902"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},Na:{type:"consonant",glyph:"\u0923"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},pa:{type:"consonant",glyph:"\u092A"},pha:{type:"consonant",glyph:"\u092B"},R:{type:"vowel",glyph:"\u090B",matra:"\u0943"},ra:{type:"consonant",glyph:"\u0930"},RR:{type:"vowel",glyph:"\u0960",matra:"\u0944"},sa:{type:"consonant",glyph:"\u0938"},Sa:{type:"consonant",glyph:"\u0937"},ta:{type:"consonant",glyph:"\u0924"},Ta:{type:"consonant",glyph:"\u091F"},tha:{type:"consonant",glyph:"\u0925"},Tha:{type:"consonant",glyph:"\u0920"},tra:{type:"conjunct",glyph:"\u0924\u094D\u0930"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},U:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},ya:{type:"consonant",glyph:"\u092F"},za:{type:"consonant",glyph:"\u0936"},zra:{type:"conjunct",glyph:"\u0936\u094D\u0930"}};var C={a:{type:"vowel",glyph:"\u0905",matra:""},\u0101:{type:"vowel",glyph:"\u0906",matra:"\u093E"},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},ba:{type:"consonant",glyph:"\u092C"},bha:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},cha:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0926"},Da:{type:"consonant",glyph:"\u0921"},dha:{type:"consonant",glyph:"\u0927"},Dha:{type:"consonant",glyph:"\u0922"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},fa:{type:"consonant",glyph:"\u092B\u093C"},ga:{type:"consonant",glyph:"\u0917"},gha:{type:"consonant",glyph:"\u0918"},\u1E25:{type:"mark",glyph:"\u0903"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},\u012B:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ja:{type:"consonant",glyph:"\u091C"},jha:{type:"consonant",glyph:"\u091D"},j\u00F1a:{type:"conjunct",glyph:"\u091C\u094D\u091E"},ka:{type:"consonant",glyph:"\u0915"},kha:{type:"consonant",glyph:"\u0916"},k\u1E63a:{type:"conjunct",glyph:"\u0915\u094D\u0937"},\u1E37:{type:"vowel",glyph:"\u090C",matra:"\u0962"},la:{type:"consonant",glyph:"\u0932"},\u1E41:{type:"mark",glyph:"\u0902"},\u1E43:{type:"mark",glyph:"\u0902"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},Na:{type:"consonant",glyph:"\u0923"},\u00F1a:{type:"consonant",glyph:"\u091E"},\u1E45a:{type:"consonant",glyph:"\u0919"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},pa:{type:"consonant",glyph:"\u092A"},pha:{type:"consonant",glyph:"\u092B"},qa:{type:"consonant",glyph:"\u0915\u093C"},\u1E5B:{type:"vowel",glyph:"\u090B",matra:"\u0943"},\u1E5D:{type:"vowel",glyph:"\u0960",matra:"\u0944"},ra:{type:"consonant",glyph:"\u0930"},\u1E5Ba:{type:"consonant",glyph:"\u0921\u093C"},\u1E5Bha:{type:"consonant",glyph:"\u0922\u093C"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},sa:{type:"consonant",glyph:"\u0938"},\u015Ba:{type:"consonant",glyph:"\u0936"},\u1E63a:{type:"consonant",glyph:"\u0937"},\u015Bra:{type:"conjunct",glyph:"\u0936\u094D\u0930"},ta:{type:"consonant",glyph:"\u0924"},Ta:{type:"consonant",glyph:"\u091F"},tha:{type:"consonant",glyph:"\u0925"},Tha:{type:"consonant",glyph:"\u0920"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},\u016B:{type:"vowel",glyph:"\u090A",matra:"\u0942"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},ya:{type:"consonant",glyph:"\u092F"},za:{type:"consonant",glyph:"\u091C\u093C"}};var L={a:{type:"vowel",glyph:"\u0905",matra:""},\u0101:{type:"vowel",glyph:"\u0906",matra:"\u093E"},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},ba:{type:"consonant",glyph:"\u092C"},bha:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},cha:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0926"},Da:{type:"consonant",glyph:"\u0921"},\u1E0Da:{type:"consonant",glyph:"\u0921"},dha:{type:"consonant",glyph:"\u0927"},Dha:{type:"consonant",glyph:"\u0922"},\u1E0Dha:{type:"consonant",glyph:"\u0922"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},\u0113:{type:"vowel",glyph:"\u090F",matra:"\u0947"},fa:{type:"consonant",glyph:"\u092B\u093C"},ga:{type:"consonant",glyph:"\u0917"},\u0121a:{type:"consonant",glyph:"\u0917\u093C"},gha:{type:"consonant",glyph:"\u0918"},\u1E25:{type:"mark",glyph:"\u0903"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ja:{type:"consonant",glyph:"\u091C"},jha:{type:"consonant",glyph:"\u091D"},j\u00F1a:{type:"conjunct",glyph:"\u091C\u094D\u091E"},ka:{type:"consonant",glyph:"\u0915"},kha:{type:"consonant",glyph:"\u0916"},"k\u035Fha":{type:"consonant",glyph:"\u0916\u093C"},k\u1E63a:{type:"conjunct",glyph:"\u0915\u094D\u0937"},l\u0325:{type:"vowel",glyph:"\u090C",matra:"\u0962"},la:{type:"consonant",glyph:"\u0932"},\u1E41:{type:"mark",glyph:"\u0902"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},Na:{type:"consonant",glyph:"\u0923"},\u00F1a:{type:"consonant",glyph:"\u091E"},\u1E45a:{type:"consonant",glyph:"\u0919"},\u1E47a:{type:"consonant",glyph:"\u0923"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},\u014D:{type:"vowel",glyph:"\u0913",matra:"\u094B"},pa:{type:"consonant",glyph:"\u092A"},pha:{type:"consonant",glyph:"\u092B"},qa:{type:"consonant",glyph:"\u0915\u093C"},r\u0325:{type:"vowel",glyph:"\u090B",matra:"\u0943"},r\u0325\u0304:{type:"vowel",glyph:"\u0960",matra:"\u0944"},ra:{type:"consonant",glyph:"\u0930"},\u1E5Ba:{type:"consonant",glyph:"\u0921\u093C"},\u1E5Bha:{type:"consonant",glyph:"\u0922\u093C"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},sa:{type:"consonant",glyph:"\u0938"},\u015Ba:{type:"consonant",glyph:"\u0936"},\u1E63a:{type:"consonant",glyph:"\u0937"},\u015Bra:{type:"conjunct",glyph:"\u0936\u094D\u0930"},ta:{type:"consonant",glyph:"\u0924"},Ta:{type:"consonant",glyph:"\u091F"},\u1E6Da:{type:"consonant",glyph:"\u091F"},tha:{type:"consonant",glyph:"\u0925"},Tha:{type:"consonant",glyph:"\u0920"},\u1E6Dha:{type:"consonant",glyph:"\u0920"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},ya:{type:"consonant",glyph:"\u092F"},za:{type:"consonant",glyph:"\u091C\u093C"}};var N={".da":{type:"consonant",glyph:"\u0921\u093C"},".Dha":{type:"consonant",glyph:"\u0922\u093C"},".h":{type:"mark",glyph:"\u0903"},".m":{type:"mark",glyph:"\u0902"},".n":{type:"mark",glyph:"\u0902"},"~na":{type:"consonant",glyph:"\u091E"},"~Na":{type:"consonant",glyph:"\u0919"},a:{type:"vowel",glyph:"\u0905",matra:""},A:{type:"vowel",glyph:"\u0906",matra:"\u093E"},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},ba:{type:"consonant",glyph:"\u092C"},bha:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},Cha:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0926"},Da:{type:"consonant",glyph:"\u0921"},dha:{type:"consonant",glyph:"\u0927"},Dha:{type:"consonant",glyph:"\u0922"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},fa:{type:"consonant",glyph:"\u092B\u093C"},ga:{type:"consonant",glyph:"\u0917"},Ga:{type:"consonant",glyph:"\u0917\u093C"},gha:{type:"consonant",glyph:"\u0918"},GYa:{type:"conjunct",glyph:"\u091C\u094D\u091E"},H:{type:"mark",glyph:"\u0903"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},I:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},"j~na":{type:"conjunct",glyph:"\u091C\u094D\u091E"},ja:{type:"consonant",glyph:"\u091C"},jha:{type:"consonant",glyph:"\u091D"},ka:{type:"consonant",glyph:"\u0915"},Ka:{type:"consonant",glyph:"\u0916\u093C"},kha:{type:"consonant",glyph:"\u0916"},kSha:{type:"conjunct",glyph:"\u0915\u094D\u0937"},"L^i":{type:"vowel",glyph:"\u090C",matra:"\u0962"},la:{type:"consonant",glyph:"\u0932"},LLi:{type:"vowel",glyph:"\u090C",matra:"\u0962"},M:{type:"mark",glyph:"\u0902"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},Na:{type:"consonant",glyph:"\u0923"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},pa:{type:"consonant",glyph:"\u092A"},pha:{type:"consonant",glyph:"\u092B"},qa:{type:"consonant",glyph:"\u0915\u093C"},"R^i":{type:"vowel",glyph:"\u090B",matra:"\u0943"},"R^I":{type:"vowel",glyph:"\u0960",matra:"\u0944"},ra:{type:"consonant",glyph:"\u0930"},Ra:{type:"consonant",glyph:"\u0921\u093C"},Rha:{type:"consonant",glyph:"\u0922\u093C"},RRi:{type:"vowel",glyph:"\u090B",matra:"\u0943"},RRI:{type:"vowel",glyph:"\u0960",matra:"\u0944"},sa:{type:"consonant",glyph:"\u0938"},sha:{type:"consonant",glyph:"\u0936"},Sha:{type:"consonant",glyph:"\u0937"},shra:{type:"conjunct",glyph:"\u0936\u094D\u0930"},ta:{type:"consonant",glyph:"\u0924"},Ta:{type:"consonant",glyph:"\u091F"},tha:{type:"consonant",glyph:"\u0925"},Tha:{type:"consonant",glyph:"\u0920"},tra:{type:"conjunct",glyph:"\u0924\u094D\u0930"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},U:{type:"vowel",glyph:"\u090A",matra:"\u0942"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},wa:{type:"consonant",glyph:"\u0935"},xa:{type:"conjunct",glyph:"\u0915\u094D\u0937"},ya:{type:"consonant",glyph:"\u092F"},za:{type:"consonant",glyph:"\u091C\u093C"}};var M={a:{type:"vowel",glyph:"\u0905",matra:""},A:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ba:{type:"consonant",glyph:"\u092C"},Ba:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},Ca:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0926"},Da:{type:"consonant",glyph:"\u0927"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},E:{type:"vowel",glyph:"\u0910",matra:"\u0948"},f:{type:"vowel",glyph:"\u090B",matra:"\u0943"},F:{type:"vowel",glyph:"\u0960",matra:"\u0944"},ga:{type:"consonant",glyph:"\u0917"},Ga:{type:"consonant",glyph:"\u0918"},H:{type:"mark",glyph:"\u0903"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},I:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ja:{type:"consonant",glyph:"\u091C"},Ja:{type:"consonant",glyph:"\u091D"},jYa:{type:"conjunct",glyph:"\u091C\u094D\u091E"},ka:{type:"consonant",glyph:"\u0915"},Ka:{type:"consonant",glyph:"\u0916"},kza:{type:"conjunct",glyph:"\u0915\u094D\u0937"},la:{type:"consonant",glyph:"\u0932"},M:{type:"mark",glyph:"\u0902"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},Na:{type:"consonant",glyph:"\u0919"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},O:{type:"vowel",glyph:"\u0914",matra:"\u094C"},pa:{type:"consonant",glyph:"\u092A"},Pa:{type:"consonant",glyph:"\u092B"},qa:{type:"consonant",glyph:"\u0921"},Qa:{type:"consonant",glyph:"\u0922"},ra:{type:"consonant",glyph:"\u0930"},Ra:{type:"consonant",glyph:"\u0923"},sa:{type:"consonant",glyph:"\u0938"},Sa:{type:"consonant",glyph:"\u0936"},Sra:{type:"conjunct",glyph:"\u0936\u094D\u0930"},ta:{type:"consonant",glyph:"\u0924"},Ta:{type:"consonant",glyph:"\u0925"},tra:{type:"conjunct",glyph:"\u0924\u094D\u0930"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},U:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},wa:{type:"consonant",glyph:"\u091F"},Wa:{type:"consonant",glyph:"\u0920"},x:{type:"vowel",glyph:"\u090C",matra:"\u0962"},ya:{type:"consonant",glyph:"\u092F"},Ya:{type:"consonant",glyph:"\u091E"},za:{type:"consonant",glyph:"\u0937"}};var D={".da":{type:"consonant",glyph:"\u0921"},".dha":{type:"consonant",glyph:"\u0922"},".h":{type:"mark",glyph:"\u0903"},".l":{type:"vowel",glyph:"\u090C",matra:"\u0962"},".m":{type:"mark",glyph:"\u0902"},".na":{type:"consonant",glyph:"\u0923"},".r":{type:"vowel",glyph:"\u090B",matra:"\u0943"},".rr":{type:"vowel",glyph:"\u0960",matra:"\u0944"},".sa":{type:"consonant",glyph:"\u0937"},".ta":{type:"consonant",glyph:"\u091F"},".tha":{type:"consonant",glyph:"\u0920"},"~na":{type:"consonant",glyph:"\u091E"},a:{type:"vowel",glyph:"\u0905",matra:""},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},ba:{type:"consonant",glyph:"\u092C"},bha:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},cha:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0926"},dha:{type:"consonant",glyph:"\u0927"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},ga:{type:"consonant",glyph:"\u0917"},gha:{type:"consonant",glyph:"\u0918"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},"j~na":{type:"conjunct",glyph:"\u091C\u094D\u091E"},ja:{type:"consonant",glyph:"\u091C"},jha:{type:"consonant",glyph:"\u091D"},"k.sa":{type:"conjunct",glyph:"\u0915\u094D\u0937"},ka:{type:"consonant",glyph:"\u0915"},kha:{type:"consonant",glyph:"\u0916"},la:{type:"consonant",glyph:"\u0932"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},pa:{type:"consonant",glyph:"\u092A"},pha:{type:"consonant",glyph:"\u092B"},ra:{type:"consonant",glyph:"\u0930"},sa:{type:"consonant",glyph:"\u0938"},sra:{type:"conjunct",glyph:"\u0936\u094D\u0930"},ta:{type:"consonant",glyph:"\u0924"},tha:{type:"consonant",glyph:"\u0925"},tra:{type:"conjunct",glyph:"\u0924\u094D\u0930"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},ya:{type:"consonant",glyph:"\u092F"}};var V={a:{type:"vowel",glyph:"\u0905",matra:""},A:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ba:{type:"consonant",glyph:"\u092C"},Ba:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},Ca:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0921"},Da:{type:"consonant",glyph:"\u0922"},DZa:{type:"consonant",glyph:"\u0922\u093C"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},E:{type:"vowel",glyph:"\u0910",matra:"\u0948"},fa:{type:"consonant",glyph:"\u0919"},Fa:{type:"consonant",glyph:"\u091E"},ga:{type:"consonant",glyph:"\u0917"},Ga:{type:"consonant",glyph:"\u0918"},gZa:{type:"consonant",glyph:"\u0917\u093C"},H:{type:"mark",glyph:"\u0903"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},I:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ja:{type:"consonant",glyph:"\u091C"},Ja:{type:"consonant",glyph:"\u091D"},jFa:{type:"conjunct",glyph:"\u091C\u094D\u091E"},jZa:{type:"consonant",glyph:"\u091C\u093C"},ka:{type:"consonant",glyph:"\u0915"},Ka:{type:"consonant",glyph:"\u0916"},kRa:{type:"conjunct",glyph:"\u0915\u094D\u0937"},kZa:{type:"consonant",glyph:"\u0915\u093C"},KZa:{type:"consonant",glyph:"\u0916\u093C"},L:{type:"vowel",glyph:"\u090C",matra:"\u0962"},la:{type:"consonant",glyph:"\u0932"},M:{type:"mark",glyph:"\u0902"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},Na:{type:"consonant",glyph:"\u0923"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},O:{type:"vowel",glyph:"\u0914",matra:"\u094C"},pa:{type:"consonant",glyph:"\u092A"},Pa:{type:"consonant",glyph:"\u092B"},PZa:{type:"consonant",glyph:"\u092B\u093C"},q:{type:"vowel",glyph:"\u090B",matra:"\u0943"},Q:{type:"vowel",glyph:"\u0960",matra:"\u0944"},qZa:{type:"consonant",glyph:"\u0921\u093C"},ra:{type:"consonant",glyph:"\u0930"},Ra:{type:"consonant",glyph:"\u0937"},sa:{type:"consonant",glyph:"\u0938"},Sa:{type:"consonant",glyph:"\u0936"},Sra:{type:"conjunct",glyph:"\u0936\u094D\u0930"},ta:{type:"consonant",glyph:"\u091F"},Ta:{type:"consonant",glyph:"\u0920"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},U:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},wa:{type:"consonant",glyph:"\u0924"},Wa:{type:"consonant",glyph:"\u0925"},wra:{type:"conjunct",glyph:"\u0924\u094D\u0930"},xa:{type:"consonant",glyph:"\u0926"},Xa:{type:"consonant",glyph:"\u0927"},ya:{type:"consonant",glyph:"\u092F"}};var z={a:{type:"vowel",glyph:"\u0905",matra:""},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},k:{type:"consonant",glyph:"\u0915"},kh:{type:"consonant",glyph:"\u0916"},g:{type:"consonant",glyph:"\u0917"},gh:{type:"consonant",glyph:"\u0918"},ng:{type:"consonant",glyph:"\u0919"},ch:{type:"consonant",glyph:"\u091A"},chh:{type:"consonant",glyph:"\u091B"},j:{type:"consonant",glyph:"\u091C"},jh:{type:"consonant",glyph:"\u091D"},ny:{type:"consonant",glyph:"\u091E"},T:{type:"consonant",glyph:"\u091F"},Th:{type:"consonant",glyph:"\u0920"},D:{type:"consonant",glyph:"\u0921"},Dh:{type:"consonant",glyph:"\u0922"},N:{type:"consonant",glyph:"\u0923"},t:{type:"consonant",glyph:"\u0924"},th:{type:"consonant",glyph:"\u0925"},d:{type:"consonant",glyph:"\u0926"},dh:{type:"consonant",glyph:"\u0927"},n:{type:"consonant",glyph:"\u0928"},p:{type:"consonant",glyph:"\u092A"},ph:{type:"consonant",glyph:"\u092B"},b:{type:"consonant",glyph:"\u092C"},bh:{type:"consonant",glyph:"\u092D"},m:{type:"consonant",glyph:"\u092E"},y:{type:"consonant",glyph:"\u092F"},r:{type:"consonant",glyph:"\u0930"},l:{type:"consonant",glyph:"\u0932"},v:{type:"consonant",glyph:"\u0935"},sh:{type:"consonant",glyph:"\u0936"},Sh:{type:"consonant",glyph:"\u0937"},s:{type:"consonant",glyph:"\u0938"},h:{type:"consonant",glyph:"\u0939"},M:{type:"mark",glyph:"\u0902"},MM:{type:"mark",glyph:"\u0901"},H:{type:"mark",glyph:"\u0903"}};var O={a:{type:"vowel",glyph:"\u0905",matra:""},A:{type:"vowel",glyph:"\u0906",matra:"\u093E"},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},I:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},U:{type:"vowel",glyph:"\u090A",matra:"\u0942"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},R:{type:"vowel",glyph:"\u090B",matra:"\u0943"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},k:{type:"consonant",glyph:"\u0915"},kh:{type:"consonant",glyph:"\u0916"},g:{type:"consonant",glyph:"\u0917"},gh:{type:"consonant",glyph:"\u0918"},ng:{type:"consonant",glyph:"\u0919"},ch:{type:"consonant",glyph:"\u091A"},chh:{type:"consonant",glyph:"\u091B"},j:{type:"consonant",glyph:"\u091C"},jh:{type:"consonant",glyph:"\u091D"},ny:{type:"consonant",glyph:"\u091E"},T:{type:"consonant",glyph:"\u091F"},Th:{type:"consonant",glyph:"\u0920"},D:{type:"consonant",glyph:"\u0921"},Dh:{type:"consonant",glyph:"\u0922"},N:{type:"consonant",glyph:"\u0923"},t:{type:"consonant",glyph:"\u0924"},th:{type:"consonant",glyph:"\u0925"},d:{type:"consonant",glyph:"\u0926"},dh:{type:"consonant",glyph:"\u0927"},n:{type:"consonant",glyph:"\u0928"},p:{type:"consonant",glyph:"\u092A"},ph:{type:"consonant",glyph:"\u092B"},b:{type:"consonant",glyph:"\u092C"},bh:{type:"consonant",glyph:"\u092D"},m:{type:"consonant",glyph:"\u092E"},y:{type:"consonant",glyph:"\u092F"},r:{type:"consonant",glyph:"\u0930"},l:{type:"consonant",glyph:"\u0932"},v:{type:"consonant",glyph:"\u0935"},w:{type:"consonant",glyph:"\u0935"},sh:{type:"consonant",glyph:"\u0936"},S:{type:"consonant",glyph:"\u0936"},Sh:{type:"consonant",glyph:"\u0937"},s:{type:"consonant",glyph:"\u0938"},h:{type:"consonant",glyph:"\u0939"},M:{type:"mark",glyph:"\u0902"},MM:{type:"mark",glyph:"\u0901"},H:{type:"mark",glyph:"\u0903"},ksh:{type:"conjunct",glyph:"\u0915\u094D\u0937"},x:{type:"conjunct",glyph:"\u0915\u094D\u0937"},gy:{type:"conjunct",glyph:"\u091C\u094D\u091E"},dny:{type:"conjunct",glyph:"\u091C\u094D\u091E"},jn:{type:"conjunct",glyph:"\u091C\u094D\u091E"},tr:{type:"conjunct",glyph:"\u0924\u094D\u0930"},shr:{type:"conjunct",glyph:"\u0936\u094D\u0930"},z:{type:"consonant",glyph:"\u091C\u093C"},f:{type:"consonant",glyph:"\u092B\u093C"},Rr:{type:"consonant",glyph:"\u0921\u093C"},Rh:{type:"consonant",glyph:"\u0922\u093C"},namaste:{type:"word",glyph:"\u0928\u092E\u0938\u094D\u0924\u0947"},bharat:{type:"word",glyph:"\u092D\u093E\u0930\u0924"},bhaarat:{type:"word",glyph:"\u092D\u093E\u0930\u0924"},gyan:{type:"word",glyph:"\u091C\u094D\u091E\u093E\u0928"},jnan:{type:"word",glyph:"\u091C\u094D\u091E\u093E\u0928"},shakti:{type:"word",glyph:"\u0936\u0915\u094D\u0924\u093F"},rishi:{type:"word",glyph:"\u090B\u0937\u093F"},kshatriya:{type:"word",glyph:"\u0915\u094D\u0937\u0924\u094D\u0930\u093F\u092F"},sundar:{type:"word",glyph:"\u0938\u0941\u0902\u0926\u0930"},dharma:{type:"word",glyph:"\u0927\u0930\u094D\u092E"},karma:{type:"word",glyph:"\u0915\u0930\u094D\u092E"},mausam:{type:"word",glyph:"\u092E\u094C\u0938\u092E"},prithvi:{type:"word",glyph:"\u092A\u0943\u0925\u094D\u0935\u0940"},bhasha:{type:"word",glyph:"\u092D\u093E\u0937\u093E"},ladka:{type:"word",glyph:"\u0932\u0921\u093C\u0915\u093E"},khushi:{type:"word",glyph:"\u0916\u0941\u0936\u0940"},waqt:{type:"word",glyph:"\u0935\u0915\u093C\u094D\u0924"},zindagi:{type:"word",glyph:"\u091C\u093C\u093F\u0902\u0926\u0917\u0940"},gaav:{type:"word",glyph:"\u0917\u093E\u0901\u0935"},gaon:{type:"word",glyph:"\u0917\u093E\u0901\u0935"},manzil:{type:"word",glyph:"\u092E\u0902\u091C\u093C\u093F\u0932"},safar:{type:"word",glyph:"\u0938\u092B\u093C\u0930"},ishq:{type:"word",glyph:"\u0907\u0936\u094D\u0915\u093C"},khwab:{type:"word",glyph:"\u0916\u093C\u094D\u0935\u093E\u092C"},swagat:{type:"word",glyph:"\u0938\u094D\u0935\u093E\u0917\u0924"}};var H={a:{type:"vowel",glyph:"\u0905",matra:""},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},ae:{type:"vowel",glyph:"\u0972",matra:"\u0945"},aw:{type:"vowel",glyph:"\u0911",matra:"\u0949"},k:{type:"consonant",glyph:"\u0915"},kh:{type:"consonant",glyph:"\u0916"},g:{type:"consonant",glyph:"\u0917"},gh:{type:"consonant",glyph:"\u0918"},ng:{type:"consonant",glyph:"\u0919"},ch:{type:"consonant",glyph:"\u091A"},chh:{type:"consonant",glyph:"\u091B"},j:{type:"consonant",glyph:"\u091C"},jh:{type:"consonant",glyph:"\u091D"},ny:{type:"consonant",glyph:"\u091E"},T:{type:"consonant",glyph:"\u091F"},Th:{type:"consonant",glyph:"\u0920"},D:{type:"consonant",glyph:"\u0921"},Dh:{type:"consonant",glyph:"\u0922"},N:{type:"consonant",glyph:"\u0923"},t:{type:"consonant",glyph:"\u0924"},th:{type:"consonant",glyph:"\u0925"},d:{type:"consonant",glyph:"\u0926"},dh:{type:"consonant",glyph:"\u0927"},n:{type:"consonant",glyph:"\u0928"},p:{type:"consonant",glyph:"\u092A"},ph:{type:"consonant",glyph:"\u092B"},b:{type:"consonant",glyph:"\u092C"},bh:{type:"consonant",glyph:"\u092D"},m:{type:"consonant",glyph:"\u092E"},y:{type:"consonant",glyph:"\u092F"},r:{type:"consonant",glyph:"\u0930"},l:{type:"consonant",glyph:"\u0932"},v:{type:"consonant",glyph:"\u0935"},L:{type:"consonant",glyph:"\u0933"},sh:{type:"consonant",glyph:"\u0936"},Sh:{type:"consonant",glyph:"\u0937"},s:{type:"consonant",glyph:"\u0938"},h:{type:"consonant",glyph:"\u0939"},M:{type:"mark",glyph:"\u0902"},MM:{type:"mark",glyph:"\u0901"},H:{type:"mark",glyph:"\u0903"}};var P={a:{type:"vowel",glyph:"\u0905",matra:""},A:{type:"vowel",glyph:"\u0906",matra:"\u093E"},\u0101:{type:"vowel",glyph:"\u0906",matra:"\u093E"},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ae:{type:"vowel",glyph:"\u0972",matra:"\u0945"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},aw:{type:"vowel",glyph:"\u0911",matra:"\u0949"},b:{type:"consonant",glyph:"\u092C"},bh:{type:"consonant",glyph:"\u092D"},ch:{type:"consonant",glyph:"\u091A"},chh:{type:"consonant",glyph:"\u091B"},d:{type:"consonant",glyph:"\u0926"},D:{type:"consonant",glyph:"\u0921"},dh:{type:"consonant",glyph:"\u0927"},Dh:{type:"consonant",glyph:"\u0922"},dny:{type:"conjunct",glyph:"\u091C\u094D\u091E"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},ee:{type:"vowel",glyph:"\u0908",matra:"\u0940"},g:{type:"consonant",glyph:"\u0917"},gh:{type:"consonant",glyph:"\u0918"},gy:{type:"conjunct",glyph:"\u091C\u094D\u091E"},h:{type:"consonant",glyph:"\u0939"},H:{type:"mark",glyph:"\u0903"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},I:{type:"vowel",glyph:"\u0908",matra:"\u0940"},\u012B:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},j:{type:"consonant",glyph:"\u091C"},jh:{type:"consonant",glyph:"\u091D"},k:{type:"consonant",glyph:"\u0915"},kh:{type:"consonant",glyph:"\u0916"},l:{type:"consonant",glyph:"\u0932"},L:{type:"consonant",glyph:"\u0933"},m:{type:"consonant",glyph:"\u092E"},M:{type:"mark",glyph:"\u0902"},MM:{type:"mark",glyph:"\u0901"},n:{type:"consonant",glyph:"\u0928"},N:{type:"consonant",glyph:"\u0923"},ng:{type:"consonant",glyph:"\u0919"},ny:{type:"consonant",glyph:"\u091E"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},p:{type:"consonant",glyph:"\u092A"},ph:{type:"consonant",glyph:"\u092B"},r:{type:"consonant",glyph:"\u0930"},R:{type:"consonant",glyph:"\u0930"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},s:{type:"consonant",glyph:"\u0938"},sh:{type:"consonant",glyph:"\u0936"},Sh:{type:"consonant",glyph:"\u0937"},t:{type:"consonant",glyph:"\u0924"},T:{type:"consonant",glyph:"\u091F"},th:{type:"consonant",glyph:"\u0925"},Th:{type:"consonant",glyph:"\u0920"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},U:{type:"vowel",glyph:"\u090A",matra:"\u0942"},\u016B:{type:"vowel",glyph:"\u090A",matra:"\u0942"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},v:{type:"consonant",glyph:"\u0935"},w:{type:"consonant",glyph:"\u0935"},W:{type:"consonant",glyph:"\u0935"},x:{type:"conjunct",glyph:"\u0915\u094D\u0937"},y:{type:"consonant",glyph:"\u092F"},B:{type:"consonant",glyph:"\u092C"},G:{type:"consonant",glyph:"\u0917"},J:{type:"consonant",glyph:"\u091C"},K:{type:"consonant",glyph:"\u0915"},P:{type:"consonant",glyph:"\u092A"},V:{type:"consonant",glyph:"\u0935"},X:{type:"conjunct",glyph:"\u0915\u094D\u0937"},Y:{type:"consonant",glyph:"\u092F"},E:{type:"vowel",glyph:"\u090F",matra:"\u0947"},O:{type:"vowel",glyph:"\u0913",matra:"\u094B"},Ch:{type:"consonant",glyph:"\u091A"},Ph:{type:"consonant",glyph:"\u092B"},Bh:{type:"consonant",glyph:"\u092D"},Gh:{type:"consonant",glyph:"\u0918"},Kh:{type:"consonant",glyph:"\u0916"},Ny:{type:"consonant",glyph:"\u091E"},Ng:{type:"consonant",glyph:"\u0919"}};function B(){return{children:new Map,terminal:null}}function T(n){let o=B();for(let[e,t]of Object.entries(n)){if(e.length===0)continue;let a=o;for(let y of e){let p=a.children.get(y);p||(p=B(),a.children.set(y,p)),a=p}a.terminal={key:e,value:t}}return o}function v(n,o,e=0){let t=n,a=e,y=0,p="",l=null;for(;t&&a<o.length;){let h=o[a],s=t.children.get(h);if(!s)return{isPrefix:!1,matched:y>0,key:p,value:l,length:y};t=s,a+=1,t.terminal&&(y=a-e,p=t.terminal.key,l=t.terminal.value)}return{isPrefix:!!t&&a===o.length,matched:y>0,key:p,value:l,length:y}}function x(){let n=[];return{push(o){n.push(o)},pop(){return n.pop()},clear(){n.length=0},toString(){return n.join("")},size(){return n.length},isEmpty(){return n.length===0}}}function cn(n,o){return n==="\u0915"&&(o==="\u0937"||o==="\u0936")?"\u0915\u094D\u0937":n==="\u091C"&&o==="\u091E"?"\u091C\u094D\u091E":n==="\u0924"&&o==="\u092F"?"\u0924\u094D\u092F":n==="\u0917"&&o==="\u092F"?"\u091C\u094D\u091E":null}var K=(n,o)=>{let e=[];for(let t=0;t<n.length;t+=1){let a=n[t],y=n[t+1],p=n[t+2];if(a?.kind==="consonant"&&y?.kind==="halant"&&p?.kind==="consonant"){let l=cn(a.glyph,p.glyph);if(l){e.push({kind:"consonant",glyph:l}),t+=2;continue}}e.push(a)}return e};function F(n){return n.kind!=="raw"?!1:/[\s.,!?;:()[\]{}'"-]/u.test(n.text)}var un=new Set(["\u0919","\u091E","\u0923","\u0928","\u092E"]),mn=[{chars:new Set(["\u0915","\u0916","\u0917","\u0918"]),nasal:"\u0919"},{chars:new Set(["\u091A","\u091B","\u091C","\u091D"]),nasal:"\u091E"},{chars:new Set(["\u091F","\u0920","\u0921","\u0922"]),nasal:"\u0923"},{chars:new Set(["\u0924","\u0925","\u0926","\u0927"]),nasal:"\u0928"},{chars:new Set(["\u092A","\u092B","\u092C","\u092D"]),nasal:"\u092E"}];function dn(n){for(let o of mn)if(o.chars.has(n))return o.nasal;return null}var q=(n,o)=>{let e=[];for(let t=0;t<n.length;t+=1){let a=n[t],y=n[t+1],p=n[t+2];if(!(a?.kind==="consonant"&&un.has(a.glyph)&&y?.kind==="halant"&&p?.kind==="consonant")){e.push(a);continue}if(o.options.nasalizationMode==="anusvara"){e.push({kind:"mark",glyph:"\u0902"}),t+=1;continue}let h=dn(p.glyph);if(!h){e.push(a);continue}e.push({kind:"consonant",glyph:h})}return e};function f(n,o){return n?.kind==="raw"&&n.text===o}function G(n,o){return n?.kind==="consonant"&&n.glyph===o}function wn(n){return n?.kind==="vowelIndependent"&&n.glyph==="\u0905"}function k(n,o,e){return n.push({kind:"consonant",glyph:o}),wn(e)?(n.push({kind:"matra",glyph:"\u093E"}),!0):!1}var U=(n,o)=>{let e=[];for(let t=0;t<n.length;t+=1){let a=n[t],y=n[t+1];if(G(a,"\u0915")&&f(y,"*")){let p=n[t+2];if(k(e,"\u0958",p)){t+=2;continue}t+=1;continue}if(G(a,"\u0917")&&f(y,"*")){let p=n[t+2];if(k(e,"\u095A",p)){t+=2;continue}t+=1;continue}if(f(a,"q")){k(e,"\u0958",y)&&(t+=1);continue}if(f(a,"f")){k(e,"\u095E",y)&&(t+=1);continue}e.push(a)}return e};function i(n,o){return n?.kind==="consonant"&&n.glyph===o}function vn(n,o){return n?.kind==="matra"&&n.glyph===o}function fn(n,o){return n?.kind==="mark"&&n.glyph===o}function u(n,o){return n?.kind===o}function d(n,o){let e=n[o+1];return!e||F(e)}var W=(n,o)=>{let e=n.map(t=>({...t}));for(let t=0;t<e.length;t+=1)fn(e[t],"\u0902")&&u(e[t+1],"consonant")&&u(e[t+2],"inherentA")&&d(e,t+2)&&(e[t+2]={kind:"matra",glyph:"\u093E"}),i(e[t],"\u0915")&&u(e[t+1],"inherentA")&&i(e[t+2],"\u092F")&&d(e,t+2)&&(e[t+1]={kind:"matra",glyph:"\u093E"}),i(e[t],"\u0958")&&u(e[t+1],"inherentA")&&d(e,t+1)&&(e[t+1]={kind:"matra",glyph:"\u093E"}),i(e[t],"\u0930")&&u(e[t+1],"halant")&&i(e[t+2],"\u0924")&&u(e[t+3],"inherentA")&&i(e[t+4],"\u092F")&&d(e,t+4)&&(e.splice(t+1,1),e[t+2]={kind:"matra",glyph:"\u093E"}),i(e[t],"\u0930")&&u(e[t+1],"halant")&&i(e[t+2],"\u0924")&&vn(e[t+3],"\u094B")&&i(e[t+4],"\u0938")&&d(e,t+4)&&e.splice(t+1,1);return e};function _(n,o){let e=o.options.enableNukta?U(n,o):n,t=q(e,o),a=o.options.enableLigatureCollapse?K(t,o):t;return o.options.enableSchwaDeletion?W(a,o):a}var Tn={enableNukta:!0,nasalizationMode:"anusvara",enableLigatureCollapse:!0,enableSchwaDeletion:!0};function Z(n){return/[\s.,!?;:()[\]{}"'-]/u.test(n)}function xn(n){return/\s/u.test(n)?"start":"other"}function $(n){return n.kind==="consonant"}function J(n,o){return n.type==="vowel"?o==="afterConsonant"?(n.matra??"")===""?{tokens:[{kind:"inherentA"}],context:"afterVowel"}:{tokens:[{kind:"matra",glyph:n.matra??""}],context:"afterVowel"}:{tokens:[{kind:"vowelIndependent",glyph:n.glyph}],context:"afterVowel"}:n.type==="consonant"||n.type==="conjunct"?{tokens:[{kind:"consonant",glyph:n.glyph}],context:"afterConsonant"}:n.type==="mark"?{tokens:[{kind:"mark",glyph:n.glyph}],context:o}:{tokens:[{kind:"raw",text:n.glyph}],context:o}}function bn(n){let o=[];for(let e=0;e<n.length;e+=1){let t=n[e],a=n[e+1];o.push(t),$(t)&&a&&$(a)&&o.push({kind:"halant",glyph:"\u094D"})}return o}function En(n,o){let e=[],t=0,a="start";for(;t<n.length;){let y=v(o,n,t);if(y.matched&&y.value){if(y.key==="ng"&&t+y.length<n.length&&/[aAiIuUeEoOāīū]/u.test(n[t+y.length])){let s=v(o,"n");if(s.matched&&s.value){let g=J(s.value,a);e.push(...g.tokens),a=g.context,t+=1;continue}}let h=J(y.value,a);e.push(...h.tokens),a=h.context,t+=y.length;continue}let p=n[t];e.push({kind:"raw",text:p}),a=xn(p),t+=1}return bn(e)}function Rn(n){let o="";for(let e of n)if(e.kind!=="inherentA"){if(e.kind==="raw"){o+=e.text;continue}o+=e.glyph}return o}function Y(n,o,e){let t=En(n,o),y=_(t,{options:e});return Rn(y)}function jn(n){let o=n.trie??T(n.expandedMap),e={...Tn,...n.rules??{}},t=x(),a="";function y(){let p=Y(t.toString(),o,e),l={backspace:a.length,insert:p};return a=p,l}return{processChar(p){return Z(p)?(t.clear(),a="",{backspace:0,insert:p}):(t.push(p),y())},processText(p){t.clear();let l=p.split(/(\s+|[.,!?;:()[\]{}'"-])/),h="";for(let g of l)Z(g)||g===""?h+=g:h+=Y(g,o,e);let s={backspace:a.length,insert:h};return a=h,s},backspace(){return t.isEmpty()?{backspace:0,insert:""}:(t.pop(),y())},commit(){return t.isEmpty()?{backspace:0,insert:""}:(t.clear(),a="",{backspace:0,insert:""})},reset(){t.clear(),a=""}}}function In(n){let o=n.value.length,e=n.selectionStart??o,t=n.selectionEnd??o;return{start:Math.max(0,Math.min(e,o)),end:Math.max(0,Math.min(t,o))}}function An(n){try{let o=new InputEvent("input",{bubbles:!0,cancelable:!1,inputType:"insertText",data:null});n.dispatchEvent(o)}catch{let o=new Event("input",{bubbles:!0,cancelable:!1});n.dispatchEvent(o)}}function w(n,o,e){let{start:t,end:a}=In(n),y=Math.max(0,t-Math.max(0,o));if(typeof n.setRangeText=="function")n.setRangeText(e,y,a,"end");else{let l=`${n.value.slice(0,y)}${e}${n.value.slice(a)}`;n.value=l;let h=y+e.length;n.setSelectionRange(h,h)}An(n);let p=y+e.length;return{start:p,end:p}}var E=class{element;constructor(o){this.element=o}deleteAndInsert(o,e,t){if(typeof o=="number"){if(!this.element||typeof e!="string")throw new Error("DOMIntegrator requires a bound element for deleteAndInsert(backspace, insert).");return w(this.element,o,e)}if(typeof e!="number"||typeof t!="string")throw new Error("deleteAndInsert(el, backspace, insert) requires all arguments.");return w(o,e,t)}};function Sn(n){if(n.childNodes.length===0){let t=n.ownerDocument.createTextNode("");return n.appendChild(t),t}if(n.childNodes.length===1&&n.firstChild?.nodeType===Node.TEXT_NODE)return n.firstChild;let o=n.textContent??"";n.textContent="";let e=n.ownerDocument.createTextNode(o);return n.appendChild(e),e}function R(n,o,e){let t=n.ownerDocument.getSelection();if(!t||t.rangeCount===0)return{collapsed:!1,applied:!1};let a=t.getRangeAt(0);if(!a.collapsed||!n.contains(a.startContainer))return{collapsed:!1,applied:!1};let y=Sn(n),p=y.data,l=p.length;a.startContainer===y&&(l=Math.max(0,Math.min(a.startOffset,p.length)));let h=Math.max(0,l-Math.max(0,o)),s=`${p.slice(0,h)}${e}${p.slice(l)}`;y.data=s;let g=h+e.length,m=n.ownerDocument.createRange();return m.setStart(y,g),m.collapse(!0),t.removeAllRanges(),t.addRange(m),{collapsed:!0,applied:!0}}function Cn(n){return n instanceof HTMLTextAreaElement?!0:n instanceof HTMLInputElement?n.type==="text":!1}function Ln(n){return n instanceof HTMLElement&&n.isContentEditable}function Nn(n){return n.ctrlKey||n.altKey||n.metaKey}function Mn(n){return n===" "||n==="Enter"||n==="Tab"}function Dn(n){let o=n.element,e=n.engine,t=n.onEditApplied,a=n.onBypass,y=n.enabled??!0,p=!1,l=!1,h=r=>{if(Cn(o))return w(o,r.backspace,r.insert),t?.(r),!0;if(Ln(o)){let c=R(o,r.backspace,r.insert);return c.collapsed?c.applied?(t?.(r),!0):!1:(a?.("selection"),!1)}return a?.("unsupported-target"),!1},s=()=>{l=!0},g=()=>{l=!1},m=r=>{if(!y){a?.("disabled");return}if(Nn(r)){a?.("modifier");return}if(l){a?.("composition");return}if(Mn(r.key)){e.commit();return}if(r.key!=="Backspace")return;let c=e.backspace();c.backspace===0&&c.insert===""||h(c)&&r.preventDefault()},j=r=>{if(!y){a?.("disabled");return}if(l){a?.("composition");return}if(r.inputType!=="insertText")return;let c=r.data;if(!c)return;let X=c.length>1?e.processText(c):e.processChar(c);h(X)&&r.preventDefault()};return{attach(){p||(o.addEventListener("compositionstart",s),o.addEventListener("compositionend",g),o.addEventListener("keydown",m),o.addEventListener("beforeinput",j),p=!0)},detach(){p&&(o.removeEventListener("compositionstart",s),o.removeEventListener("compositionend",g),o.removeEventListener("keydown",m),o.removeEventListener("beforeinput",j),p=!1)},isAttached(){return p}}}var Lt={devanagari:{base:I,schemes:{iast:C,iso15919:L,harvardKyoto:S,itrans:N,velthuis:D,slp1:M,wx:V,hunterian:A}},hindi:{phonetic:{base:z,expanded:O}},marathi:{phonetic:{base:H,expanded:P}}};export{E as DOMIntegrator,T as buildTrie,Dn as createInputInterceptor,x as createInputStack,jn as createTransliterationEngine,w as deleteAndInsert,R as deleteAndInsertContentEditable,I as devanagariBase,S as devanagariHarvardKyoto,A as devanagariHunterian,C as devanagariIAST,L as devanagariISO15919,N as devanagariITRANS,M as devanagariSLP1,D as devanagariVelthuis,V as devanagariWX,z as hindiPhoneticBase,O as hindiPhoneticExpanded,Lt as maps,H as marathiPhoneticBase,P as marathiPhoneticExpanded,v as walkLongest};
//# sourceMappingURL=index.js.map