var z={consonants:["\u0915","\u0916","\u0917","\u0918","\u0919","\u091A","\u091B","\u091C","\u091D","\u091E","\u091F","\u0920","\u0921","\u0922","\u0923","\u0924","\u0925","\u0926","\u0927","\u0928","\u092A","\u092B","\u092C","\u092D","\u092E","\u092F","\u0930","\u0932","\u0935","\u0936","\u0937","\u0938","\u0939","\u0933"],vowelsIndependent:["\u0905","\u0906","\u0907","\u0908","\u0909","\u090A","\u090B","\u0960","\u090C","\u0961","\u090F","\u0910","\u0913","\u0914","\u0972","\u0911"],vowelMatras:["\u093E","\u093F","\u0940","\u0941","\u0942","\u0943","\u0944","\u0962","\u0963","\u0947","\u0948","\u094B","\u094C","\u0945","\u0949"],halant:"\u094D",digits:["\u0966","\u0967","\u0968","\u0969","\u096A","\u096B","\u096C","\u096D","\u096E","\u096F"],marks:{anusvara:"\u0902",chandrabindu:"\u0901",visarga:"\u0903"}};var K={a:{type:"vowel",glyph:"\u0905",matra:""},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},b:{type:"consonant",glyph:"\u092C"},bh:{type:"consonant",glyph:"\u092D"},ch:{type:"consonant",glyph:"\u091A"},chh:{type:"consonant",glyph:"\u091B"},d:{type:"consonant",glyph:"\u0926"},D:{type:"consonant",glyph:"\u0921"},dh:{type:"consonant",glyph:"\u0927"},Dh:{type:"consonant",glyph:"\u0922"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},f:{type:"consonant",glyph:"\u092B\u093C"},g:{type:"consonant",glyph:"\u0917"},gh:{type:"consonant",glyph:"\u0918"},gy:{type:"conjunct",glyph:"\u091C\u094D\u091E"},h:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},j:{type:"consonant",glyph:"\u091C"},jh:{type:"consonant",glyph:"\u091D"},k:{type:"consonant",glyph:"\u0915"},kh:{type:"consonant",glyph:"\u0916"},ksh:{type:"conjunct",glyph:"\u0915\u094D\u0937"},l:{type:"consonant",glyph:"\u0932"},m:{type:"consonant",glyph:"\u092E"},n:{type:"consonant",glyph:"\u0928"},N:{type:"consonant",glyph:"\u0923"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},p:{type:"consonant",glyph:"\u092A"},ph:{type:"consonant",glyph:"\u092B"},q:{type:"consonant",glyph:"\u0915\u093C"},r:{type:"consonant",glyph:"\u0930"},rh:{type:"consonant",glyph:"\u0922\u093C"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},s:{type:"consonant",glyph:"\u0938"},sh:{type:"consonant",glyph:"\u0936"},shh:{type:"consonant",glyph:"\u0937"},shr:{type:"conjunct",glyph:"\u0936\u094D\u0930"},t:{type:"consonant",glyph:"\u0924"},T:{type:"consonant",glyph:"\u091F"},th:{type:"consonant",glyph:"\u0925"},Th:{type:"consonant",glyph:"\u0920"},tr:{type:"conjunct",glyph:"\u0924\u094D\u0930"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},v:{type:"consonant",glyph:"\u0935"},w:{type:"consonant",glyph:"\u0935"},y:{type:"consonant",glyph:"\u092F"},z:{type:"consonant",glyph:"\u091C\u093C"}};var G={a:{type:"vowel",glyph:"\u0905",matra:""},A:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},ba:{type:"consonant",glyph:"\u092C"},bha:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},cha:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0926"},Da:{type:"consonant",glyph:"\u0921"},dha:{type:"consonant",glyph:"\u0927"},Dha:{type:"consonant",glyph:"\u0922"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},ga:{type:"consonant",glyph:"\u0917"},Ga:{type:"consonant",glyph:"\u0919"},gha:{type:"consonant",glyph:"\u0918"},H:{type:"mark",glyph:"\u0903"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},I:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ja:{type:"consonant",glyph:"\u091C"},Ja:{type:"consonant",glyph:"\u091E"},jha:{type:"consonant",glyph:"\u091D"},jJa:{type:"conjunct",glyph:"\u091C\u094D\u091E"},ka:{type:"consonant",glyph:"\u0915"},kha:{type:"consonant",glyph:"\u0916"},kSa:{type:"conjunct",glyph:"\u0915\u094D\u0937"},la:{type:"consonant",glyph:"\u0932"},lR:{type:"vowel",glyph:"\u090C",matra:"\u0962"},M:{type:"mark",glyph:"\u0902"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},Na:{type:"consonant",glyph:"\u0923"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},pa:{type:"consonant",glyph:"\u092A"},pha:{type:"consonant",glyph:"\u092B"},R:{type:"vowel",glyph:"\u090B",matra:"\u0943"},ra:{type:"consonant",glyph:"\u0930"},RR:{type:"vowel",glyph:"\u0960",matra:"\u0944"},sa:{type:"consonant",glyph:"\u0938"},Sa:{type:"consonant",glyph:"\u0937"},ta:{type:"consonant",glyph:"\u0924"},Ta:{type:"consonant",glyph:"\u091F"},tha:{type:"consonant",glyph:"\u0925"},Tha:{type:"consonant",glyph:"\u0920"},tra:{type:"conjunct",glyph:"\u0924\u094D\u0930"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},U:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},ya:{type:"consonant",glyph:"\u092F"},za:{type:"consonant",glyph:"\u0936"},zra:{type:"conjunct",glyph:"\u0936\u094D\u0930"}};var J={a:{type:"vowel",glyph:"\u0905",matra:""},\u0101:{type:"vowel",glyph:"\u0906",matra:"\u093E"},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},ba:{type:"consonant",glyph:"\u092C"},bha:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},cha:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0926"},Da:{type:"consonant",glyph:"\u0921"},dha:{type:"consonant",glyph:"\u0927"},Dha:{type:"consonant",glyph:"\u0922"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},fa:{type:"consonant",glyph:"\u092B\u093C"},ga:{type:"consonant",glyph:"\u0917"},gha:{type:"consonant",glyph:"\u0918"},\u1E25:{type:"mark",glyph:"\u0903"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},\u012B:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ja:{type:"consonant",glyph:"\u091C"},jha:{type:"consonant",glyph:"\u091D"},j\u00F1a:{type:"conjunct",glyph:"\u091C\u094D\u091E"},ka:{type:"consonant",glyph:"\u0915"},kha:{type:"consonant",glyph:"\u0916"},k\u1E63a:{type:"conjunct",glyph:"\u0915\u094D\u0937"},\u1E37:{type:"vowel",glyph:"\u090C",matra:"\u0962"},la:{type:"consonant",glyph:"\u0932"},\u1E41:{type:"mark",glyph:"\u0902"},\u1E43:{type:"mark",glyph:"\u0902"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},Na:{type:"consonant",glyph:"\u0923"},\u00F1a:{type:"consonant",glyph:"\u091E"},\u1E45a:{type:"consonant",glyph:"\u0919"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},pa:{type:"consonant",glyph:"\u092A"},pha:{type:"consonant",glyph:"\u092B"},qa:{type:"consonant",glyph:"\u0915\u093C"},\u1E5B:{type:"vowel",glyph:"\u090B",matra:"\u0943"},\u1E5D:{type:"vowel",glyph:"\u0960",matra:"\u0944"},ra:{type:"consonant",glyph:"\u0930"},\u1E5Ba:{type:"consonant",glyph:"\u0921\u093C"},\u1E5Bha:{type:"consonant",glyph:"\u0922\u093C"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},sa:{type:"consonant",glyph:"\u0938"},\u015Ba:{type:"consonant",glyph:"\u0936"},\u1E63a:{type:"consonant",glyph:"\u0937"},\u015Bra:{type:"conjunct",glyph:"\u0936\u094D\u0930"},ta:{type:"consonant",glyph:"\u0924"},Ta:{type:"consonant",glyph:"\u091F"},tha:{type:"consonant",glyph:"\u0925"},Tha:{type:"consonant",glyph:"\u0920"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},\u016B:{type:"vowel",glyph:"\u090A",matra:"\u0942"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},ya:{type:"consonant",glyph:"\u092F"},za:{type:"consonant",glyph:"\u091C\u093C"}};var $={a:{type:"vowel",glyph:"\u0905",matra:""},\u0101:{type:"vowel",glyph:"\u0906",matra:"\u093E"},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},ba:{type:"consonant",glyph:"\u092C"},bha:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},cha:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0926"},Da:{type:"consonant",glyph:"\u0921"},\u1E0Da:{type:"consonant",glyph:"\u0921"},dha:{type:"consonant",glyph:"\u0927"},Dha:{type:"consonant",glyph:"\u0922"},\u1E0Dha:{type:"consonant",glyph:"\u0922"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},\u0113:{type:"vowel",glyph:"\u090F",matra:"\u0947"},fa:{type:"consonant",glyph:"\u092B\u093C"},ga:{type:"consonant",glyph:"\u0917"},\u0121a:{type:"consonant",glyph:"\u0917\u093C"},gha:{type:"consonant",glyph:"\u0918"},\u1E25:{type:"mark",glyph:"\u0903"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ja:{type:"consonant",glyph:"\u091C"},jha:{type:"consonant",glyph:"\u091D"},j\u00F1a:{type:"conjunct",glyph:"\u091C\u094D\u091E"},ka:{type:"consonant",glyph:"\u0915"},kha:{type:"consonant",glyph:"\u0916"},"k\u035Fha":{type:"consonant",glyph:"\u0916\u093C"},k\u1E63a:{type:"conjunct",glyph:"\u0915\u094D\u0937"},l\u0325:{type:"vowel",glyph:"\u090C",matra:"\u0962"},la:{type:"consonant",glyph:"\u0932"},\u1E41:{type:"mark",glyph:"\u0902"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},Na:{type:"consonant",glyph:"\u0923"},\u00F1a:{type:"consonant",glyph:"\u091E"},\u1E45a:{type:"consonant",glyph:"\u0919"},\u1E47a:{type:"consonant",glyph:"\u0923"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},\u014D:{type:"vowel",glyph:"\u0913",matra:"\u094B"},pa:{type:"consonant",glyph:"\u092A"},pha:{type:"consonant",glyph:"\u092B"},qa:{type:"consonant",glyph:"\u0915\u093C"},r\u0325:{type:"vowel",glyph:"\u090B",matra:"\u0943"},r\u0325\u0304:{type:"vowel",glyph:"\u0960",matra:"\u0944"},ra:{type:"consonant",glyph:"\u0930"},\u1E5Ba:{type:"consonant",glyph:"\u0921\u093C"},\u1E5Bha:{type:"consonant",glyph:"\u0922\u093C"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},sa:{type:"consonant",glyph:"\u0938"},\u015Ba:{type:"consonant",glyph:"\u0936"},\u1E63a:{type:"consonant",glyph:"\u0937"},\u015Bra:{type:"conjunct",glyph:"\u0936\u094D\u0930"},ta:{type:"consonant",glyph:"\u0924"},Ta:{type:"consonant",glyph:"\u091F"},\u1E6Da:{type:"consonant",glyph:"\u091F"},tha:{type:"consonant",glyph:"\u0925"},Tha:{type:"consonant",glyph:"\u0920"},\u1E6Dha:{type:"consonant",glyph:"\u0920"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},ya:{type:"consonant",glyph:"\u092F"},za:{type:"consonant",glyph:"\u091C\u093C"}};var q={".da":{type:"consonant",glyph:"\u0921\u093C"},".Dha":{type:"consonant",glyph:"\u0922\u093C"},".h":{type:"mark",glyph:"\u0903"},".m":{type:"mark",glyph:"\u0902"},".n":{type:"mark",glyph:"\u0902"},"~na":{type:"consonant",glyph:"\u091E"},"~Na":{type:"consonant",glyph:"\u0919"},a:{type:"vowel",glyph:"\u0905",matra:""},A:{type:"vowel",glyph:"\u0906",matra:"\u093E"},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},ba:{type:"consonant",glyph:"\u092C"},bha:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},Cha:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0926"},Da:{type:"consonant",glyph:"\u0921"},dha:{type:"consonant",glyph:"\u0927"},Dha:{type:"consonant",glyph:"\u0922"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},fa:{type:"consonant",glyph:"\u092B\u093C"},ga:{type:"consonant",glyph:"\u0917"},Ga:{type:"consonant",glyph:"\u0917\u093C"},gha:{type:"consonant",glyph:"\u0918"},GYa:{type:"conjunct",glyph:"\u091C\u094D\u091E"},H:{type:"mark",glyph:"\u0903"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},I:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},"j~na":{type:"conjunct",glyph:"\u091C\u094D\u091E"},ja:{type:"consonant",glyph:"\u091C"},jha:{type:"consonant",glyph:"\u091D"},ka:{type:"consonant",glyph:"\u0915"},Ka:{type:"consonant",glyph:"\u0916\u093C"},kha:{type:"consonant",glyph:"\u0916"},kSha:{type:"conjunct",glyph:"\u0915\u094D\u0937"},"L^i":{type:"vowel",glyph:"\u090C",matra:"\u0962"},la:{type:"consonant",glyph:"\u0932"},LLi:{type:"vowel",glyph:"\u090C",matra:"\u0962"},M:{type:"mark",glyph:"\u0902"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},Na:{type:"consonant",glyph:"\u0923"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},pa:{type:"consonant",glyph:"\u092A"},pha:{type:"consonant",glyph:"\u092B"},qa:{type:"consonant",glyph:"\u0915\u093C"},"R^i":{type:"vowel",glyph:"\u090B",matra:"\u0943"},"R^I":{type:"vowel",glyph:"\u0960",matra:"\u0944"},ra:{type:"consonant",glyph:"\u0930"},Ra:{type:"consonant",glyph:"\u0921\u093C"},Rha:{type:"consonant",glyph:"\u0922\u093C"},RRi:{type:"vowel",glyph:"\u090B",matra:"\u0943"},RRI:{type:"vowel",glyph:"\u0960",matra:"\u0944"},sa:{type:"consonant",glyph:"\u0938"},sha:{type:"consonant",glyph:"\u0936"},Sha:{type:"consonant",glyph:"\u0937"},shra:{type:"conjunct",glyph:"\u0936\u094D\u0930"},ta:{type:"consonant",glyph:"\u0924"},Ta:{type:"consonant",glyph:"\u091F"},tha:{type:"consonant",glyph:"\u0925"},Tha:{type:"consonant",glyph:"\u0920"},tra:{type:"conjunct",glyph:"\u0924\u094D\u0930"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},U:{type:"vowel",glyph:"\u090A",matra:"\u0942"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},wa:{type:"consonant",glyph:"\u0935"},xa:{type:"conjunct",glyph:"\u0915\u094D\u0937"},ya:{type:"consonant",glyph:"\u092F"},za:{type:"consonant",glyph:"\u091C\u093C"}};var Z={a:{type:"vowel",glyph:"\u0905",matra:""},A:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ba:{type:"consonant",glyph:"\u092C"},Ba:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},Ca:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0926"},Da:{type:"consonant",glyph:"\u0927"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},E:{type:"vowel",glyph:"\u0910",matra:"\u0948"},f:{type:"vowel",glyph:"\u090B",matra:"\u0943"},F:{type:"vowel",glyph:"\u0960",matra:"\u0944"},ga:{type:"consonant",glyph:"\u0917"},Ga:{type:"consonant",glyph:"\u0918"},H:{type:"mark",glyph:"\u0903"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},I:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ja:{type:"consonant",glyph:"\u091C"},Ja:{type:"consonant",glyph:"\u091D"},jYa:{type:"conjunct",glyph:"\u091C\u094D\u091E"},ka:{type:"consonant",glyph:"\u0915"},Ka:{type:"consonant",glyph:"\u0916"},kza:{type:"conjunct",glyph:"\u0915\u094D\u0937"},la:{type:"consonant",glyph:"\u0932"},M:{type:"mark",glyph:"\u0902"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},Na:{type:"consonant",glyph:"\u0919"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},O:{type:"vowel",glyph:"\u0914",matra:"\u094C"},pa:{type:"consonant",glyph:"\u092A"},Pa:{type:"consonant",glyph:"\u092B"},qa:{type:"consonant",glyph:"\u0921"},Qa:{type:"consonant",glyph:"\u0922"},ra:{type:"consonant",glyph:"\u0930"},Ra:{type:"consonant",glyph:"\u0923"},sa:{type:"consonant",glyph:"\u0938"},Sa:{type:"consonant",glyph:"\u0936"},Sra:{type:"conjunct",glyph:"\u0936\u094D\u0930"},ta:{type:"consonant",glyph:"\u0924"},Ta:{type:"consonant",glyph:"\u0925"},tra:{type:"conjunct",glyph:"\u0924\u094D\u0930"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},U:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},wa:{type:"consonant",glyph:"\u091F"},Wa:{type:"consonant",glyph:"\u0920"},x:{type:"vowel",glyph:"\u090C",matra:"\u0962"},ya:{type:"consonant",glyph:"\u092F"},Ya:{type:"consonant",glyph:"\u091E"},za:{type:"consonant",glyph:"\u0937"}};var Y={".da":{type:"consonant",glyph:"\u0921"},".dha":{type:"consonant",glyph:"\u0922"},".h":{type:"mark",glyph:"\u0903"},".l":{type:"vowel",glyph:"\u090C",matra:"\u0962"},".m":{type:"mark",glyph:"\u0902"},".na":{type:"consonant",glyph:"\u0923"},".r":{type:"vowel",glyph:"\u090B",matra:"\u0943"},".rr":{type:"vowel",glyph:"\u0960",matra:"\u0944"},".sa":{type:"consonant",glyph:"\u0937"},".ta":{type:"consonant",glyph:"\u091F"},".tha":{type:"consonant",glyph:"\u0920"},"~na":{type:"consonant",glyph:"\u091E"},a:{type:"vowel",glyph:"\u0905",matra:""},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},ba:{type:"consonant",glyph:"\u092C"},bha:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},cha:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0926"},dha:{type:"consonant",glyph:"\u0927"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},ga:{type:"consonant",glyph:"\u0917"},gha:{type:"consonant",glyph:"\u0918"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},"j~na":{type:"conjunct",glyph:"\u091C\u094D\u091E"},ja:{type:"consonant",glyph:"\u091C"},jha:{type:"consonant",glyph:"\u091D"},"k.sa":{type:"conjunct",glyph:"\u0915\u094D\u0937"},ka:{type:"consonant",glyph:"\u0915"},kha:{type:"consonant",glyph:"\u0916"},la:{type:"consonant",glyph:"\u0932"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},pa:{type:"consonant",glyph:"\u092A"},pha:{type:"consonant",glyph:"\u092B"},ra:{type:"consonant",glyph:"\u0930"},sa:{type:"consonant",glyph:"\u0938"},sra:{type:"conjunct",glyph:"\u0936\u094D\u0930"},ta:{type:"consonant",glyph:"\u0924"},tha:{type:"consonant",glyph:"\u0925"},tra:{type:"conjunct",glyph:"\u0924\u094D\u0930"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},ya:{type:"consonant",glyph:"\u092F"}};var X={a:{type:"vowel",glyph:"\u0905",matra:""},A:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ba:{type:"consonant",glyph:"\u092C"},Ba:{type:"consonant",glyph:"\u092D"},ca:{type:"consonant",glyph:"\u091A"},Ca:{type:"consonant",glyph:"\u091B"},da:{type:"consonant",glyph:"\u0921"},Da:{type:"consonant",glyph:"\u0922"},DZa:{type:"consonant",glyph:"\u0922\u093C"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},E:{type:"vowel",glyph:"\u0910",matra:"\u0948"},fa:{type:"consonant",glyph:"\u0919"},Fa:{type:"consonant",glyph:"\u091E"},ga:{type:"consonant",glyph:"\u0917"},Ga:{type:"consonant",glyph:"\u0918"},gZa:{type:"consonant",glyph:"\u0917\u093C"},H:{type:"mark",glyph:"\u0903"},ha:{type:"consonant",glyph:"\u0939"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},I:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ja:{type:"consonant",glyph:"\u091C"},Ja:{type:"consonant",glyph:"\u091D"},jFa:{type:"conjunct",glyph:"\u091C\u094D\u091E"},jZa:{type:"consonant",glyph:"\u091C\u093C"},ka:{type:"consonant",glyph:"\u0915"},Ka:{type:"consonant",glyph:"\u0916"},kRa:{type:"conjunct",glyph:"\u0915\u094D\u0937"},kZa:{type:"consonant",glyph:"\u0915\u093C"},KZa:{type:"consonant",glyph:"\u0916\u093C"},L:{type:"vowel",glyph:"\u090C",matra:"\u0962"},la:{type:"consonant",glyph:"\u0932"},M:{type:"mark",glyph:"\u0902"},ma:{type:"consonant",glyph:"\u092E"},na:{type:"consonant",glyph:"\u0928"},Na:{type:"consonant",glyph:"\u0923"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},O:{type:"vowel",glyph:"\u0914",matra:"\u094C"},pa:{type:"consonant",glyph:"\u092A"},Pa:{type:"consonant",glyph:"\u092B"},PZa:{type:"consonant",glyph:"\u092B\u093C"},q:{type:"vowel",glyph:"\u090B",matra:"\u0943"},Q:{type:"vowel",glyph:"\u0960",matra:"\u0944"},qZa:{type:"consonant",glyph:"\u0921\u093C"},ra:{type:"consonant",glyph:"\u0930"},Ra:{type:"consonant",glyph:"\u0937"},sa:{type:"consonant",glyph:"\u0938"},Sa:{type:"consonant",glyph:"\u0936"},Sra:{type:"conjunct",glyph:"\u0936\u094D\u0930"},ta:{type:"consonant",glyph:"\u091F"},Ta:{type:"consonant",glyph:"\u0920"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},U:{type:"vowel",glyph:"\u090A",matra:"\u0942"},va:{type:"consonant",glyph:"\u0935"},wa:{type:"consonant",glyph:"\u0924"},Wa:{type:"consonant",glyph:"\u0925"},wra:{type:"conjunct",glyph:"\u0924\u094D\u0930"},xa:{type:"consonant",glyph:"\u0926"},Xa:{type:"consonant",glyph:"\u0927"},ya:{type:"consonant",glyph:"\u092F"}};var Q={a:{type:"vowel",glyph:"\u0905",matra:""},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},k:{type:"consonant",glyph:"\u0915"},kh:{type:"consonant",glyph:"\u0916"},g:{type:"consonant",glyph:"\u0917"},gh:{type:"consonant",glyph:"\u0918"},ng:{type:"consonant",glyph:"\u0919"},ch:{type:"consonant",glyph:"\u091A"},chh:{type:"consonant",glyph:"\u091B"},j:{type:"consonant",glyph:"\u091C"},jh:{type:"consonant",glyph:"\u091D"},ny:{type:"consonant",glyph:"\u091E"},T:{type:"consonant",glyph:"\u091F"},Th:{type:"consonant",glyph:"\u0920"},D:{type:"consonant",glyph:"\u0921"},Dh:{type:"consonant",glyph:"\u0922"},N:{type:"consonant",glyph:"\u0923"},t:{type:"consonant",glyph:"\u0924"},th:{type:"consonant",glyph:"\u0925"},d:{type:"consonant",glyph:"\u0926"},dh:{type:"consonant",glyph:"\u0927"},n:{type:"consonant",glyph:"\u0928"},p:{type:"consonant",glyph:"\u092A"},ph:{type:"consonant",glyph:"\u092B"},b:{type:"consonant",glyph:"\u092C"},bh:{type:"consonant",glyph:"\u092D"},m:{type:"consonant",glyph:"\u092E"},y:{type:"consonant",glyph:"\u092F"},r:{type:"consonant",glyph:"\u0930"},l:{type:"consonant",glyph:"\u0932"},v:{type:"consonant",glyph:"\u0935"},sh:{type:"consonant",glyph:"\u0936"},Sh:{type:"consonant",glyph:"\u0937"},s:{type:"consonant",glyph:"\u0938"},h:{type:"consonant",glyph:"\u0939"},M:{type:"mark",glyph:"\u0902"},MM:{type:"mark",glyph:"\u0901"},H:{type:"mark",glyph:"\u0903"}};var E={a:{type:"vowel",glyph:"\u0905",matra:""},A:{type:"vowel",glyph:"\u0906",matra:"\u093E"},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},I:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},U:{type:"vowel",glyph:"\u090A",matra:"\u0942"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},R:{type:"vowel",glyph:"\u090B",matra:"\u0943"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},k:{type:"consonant",glyph:"\u0915"},kh:{type:"consonant",glyph:"\u0916"},g:{type:"consonant",glyph:"\u0917"},gh:{type:"consonant",glyph:"\u0918"},ng:{type:"consonant",glyph:"\u0919"},ch:{type:"consonant",glyph:"\u091A"},chh:{type:"consonant",glyph:"\u091B"},j:{type:"consonant",glyph:"\u091C"},jh:{type:"consonant",glyph:"\u091D"},ny:{type:"consonant",glyph:"\u091E"},T:{type:"consonant",glyph:"\u091F"},Th:{type:"consonant",glyph:"\u0920"},D:{type:"consonant",glyph:"\u0921"},Dh:{type:"consonant",glyph:"\u0922"},N:{type:"consonant",glyph:"\u0923"},t:{type:"consonant",glyph:"\u0924"},th:{type:"consonant",glyph:"\u0925"},d:{type:"consonant",glyph:"\u0926"},dh:{type:"consonant",glyph:"\u0927"},n:{type:"consonant",glyph:"\u0928"},p:{type:"consonant",glyph:"\u092A"},ph:{type:"consonant",glyph:"\u092B"},b:{type:"consonant",glyph:"\u092C"},bh:{type:"consonant",glyph:"\u092D"},m:{type:"consonant",glyph:"\u092E"},y:{type:"consonant",glyph:"\u092F"},r:{type:"consonant",glyph:"\u0930"},l:{type:"consonant",glyph:"\u0932"},v:{type:"consonant",glyph:"\u0935"},w:{type:"consonant",glyph:"\u0935"},sh:{type:"consonant",glyph:"\u0936"},S:{type:"consonant",glyph:"\u0936"},Sh:{type:"consonant",glyph:"\u0937"},s:{type:"consonant",glyph:"\u0938"},h:{type:"consonant",glyph:"\u0939"},M:{type:"mark",glyph:"\u0902"},MM:{type:"mark",glyph:"\u0901"},H:{type:"mark",glyph:"\u0903"},ksh:{type:"conjunct",glyph:"\u0915\u094D\u0937"},x:{type:"conjunct",glyph:"\u0915\u094D\u0937"},gy:{type:"conjunct",glyph:"\u091C\u094D\u091E"},dny:{type:"conjunct",glyph:"\u091C\u094D\u091E"},jn:{type:"conjunct",glyph:"\u091C\u094D\u091E"},tr:{type:"conjunct",glyph:"\u0924\u094D\u0930"},shr:{type:"conjunct",glyph:"\u0936\u094D\u0930"},z:{type:"consonant",glyph:"\u091C\u093C"},f:{type:"consonant",glyph:"\u092B\u093C"},Rr:{type:"consonant",glyph:"\u0921\u093C"},Rh:{type:"consonant",glyph:"\u0922\u093C"},namaste:{type:"word",glyph:"\u0928\u092E\u0938\u094D\u0924\u0947"},bharat:{type:"word",glyph:"\u092D\u093E\u0930\u0924"},bhaarat:{type:"word",glyph:"\u092D\u093E\u0930\u0924"},gyan:{type:"word",glyph:"\u091C\u094D\u091E\u093E\u0928"},jnan:{type:"word",glyph:"\u091C\u094D\u091E\u093E\u0928"},shakti:{type:"word",glyph:"\u0936\u0915\u094D\u0924\u093F"},rishi:{type:"word",glyph:"\u090B\u0937\u093F"},kshatriya:{type:"word",glyph:"\u0915\u094D\u0937\u0924\u094D\u0930\u093F\u092F"},sundar:{type:"word",glyph:"\u0938\u0941\u0902\u0926\u0930"},dharma:{type:"word",glyph:"\u0927\u0930\u094D\u092E"},karma:{type:"word",glyph:"\u0915\u0930\u094D\u092E"},mausam:{type:"word",glyph:"\u092E\u094C\u0938\u092E"},prithvi:{type:"word",glyph:"\u092A\u0943\u0925\u094D\u0935\u0940"},bhasha:{type:"word",glyph:"\u092D\u093E\u0937\u093E"},ladka:{type:"word",glyph:"\u0932\u0921\u093C\u0915\u093E"},khushi:{type:"word",glyph:"\u0916\u0941\u0936\u0940"},waqt:{type:"word",glyph:"\u0935\u0915\u093C\u094D\u0924"},zindagi:{type:"word",glyph:"\u091C\u093C\u093F\u0902\u0926\u0917\u0940"},gaav:{type:"word",glyph:"\u0917\u093E\u0901\u0935"},gaon:{type:"word",glyph:"\u0917\u093E\u0901\u0935"},manzil:{type:"word",glyph:"\u092E\u0902\u091C\u093C\u093F\u0932"},safar:{type:"word",glyph:"\u0938\u092B\u093C\u0930"},ishq:{type:"word",glyph:"\u0907\u0936\u094D\u0915\u093C"},khwab:{type:"word",glyph:"\u0916\u093C\u094D\u0935\u093E\u092C"},swagat:{type:"word",glyph:"\u0938\u094D\u0935\u093E\u0917\u0924"}};var nn={a:{type:"vowel",glyph:"\u0905",matra:""},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},ae:{type:"vowel",glyph:"\u0972",matra:"\u0945"},aw:{type:"vowel",glyph:"\u0911",matra:"\u0949"},k:{type:"consonant",glyph:"\u0915"},kh:{type:"consonant",glyph:"\u0916"},g:{type:"consonant",glyph:"\u0917"},gh:{type:"consonant",glyph:"\u0918"},ng:{type:"consonant",glyph:"\u0919"},ch:{type:"consonant",glyph:"\u091A"},chh:{type:"consonant",glyph:"\u091B"},j:{type:"consonant",glyph:"\u091C"},jh:{type:"consonant",glyph:"\u091D"},ny:{type:"consonant",glyph:"\u091E"},T:{type:"consonant",glyph:"\u091F"},Th:{type:"consonant",glyph:"\u0920"},D:{type:"consonant",glyph:"\u0921"},Dh:{type:"consonant",glyph:"\u0922"},N:{type:"consonant",glyph:"\u0923"},t:{type:"consonant",glyph:"\u0924"},th:{type:"consonant",glyph:"\u0925"},d:{type:"consonant",glyph:"\u0926"},dh:{type:"consonant",glyph:"\u0927"},n:{type:"consonant",glyph:"\u0928"},p:{type:"consonant",glyph:"\u092A"},ph:{type:"consonant",glyph:"\u092B"},b:{type:"consonant",glyph:"\u092C"},bh:{type:"consonant",glyph:"\u092D"},m:{type:"consonant",glyph:"\u092E"},y:{type:"consonant",glyph:"\u092F"},r:{type:"consonant",glyph:"\u0930"},l:{type:"consonant",glyph:"\u0932"},v:{type:"consonant",glyph:"\u0935"},L:{type:"consonant",glyph:"\u0933"},sh:{type:"consonant",glyph:"\u0936"},Sh:{type:"consonant",glyph:"\u0937"},s:{type:"consonant",glyph:"\u0938"},h:{type:"consonant",glyph:"\u0939"},M:{type:"mark",glyph:"\u0902"},MM:{type:"mark",glyph:"\u0901"},H:{type:"mark",glyph:"\u0903"}};var x={a:{type:"vowel",glyph:"\u0905",matra:""},A:{type:"vowel",glyph:"\u0906",matra:"\u093E"},\u0101:{type:"vowel",glyph:"\u0906",matra:"\u093E"},aa:{type:"vowel",glyph:"\u0906",matra:"\u093E"},ae:{type:"vowel",glyph:"\u0972",matra:"\u0945"},ai:{type:"vowel",glyph:"\u0910",matra:"\u0948"},au:{type:"vowel",glyph:"\u0914",matra:"\u094C"},aw:{type:"vowel",glyph:"\u0911",matra:"\u0949"},b:{type:"consonant",glyph:"\u092C"},bh:{type:"consonant",glyph:"\u092D"},ch:{type:"consonant",glyph:"\u091A"},chh:{type:"consonant",glyph:"\u091B"},d:{type:"consonant",glyph:"\u0926"},D:{type:"consonant",glyph:"\u0921"},dh:{type:"consonant",glyph:"\u0927"},Dh:{type:"consonant",glyph:"\u0922"},dny:{type:"conjunct",glyph:"\u091C\u094D\u091E"},e:{type:"vowel",glyph:"\u090F",matra:"\u0947"},ee:{type:"vowel",glyph:"\u0908",matra:"\u0940"},g:{type:"consonant",glyph:"\u0917"},gh:{type:"consonant",glyph:"\u0918"},gy:{type:"conjunct",glyph:"\u091C\u094D\u091E"},h:{type:"consonant",glyph:"\u0939"},H:{type:"mark",glyph:"\u0903"},i:{type:"vowel",glyph:"\u0907",matra:"\u093F"},I:{type:"vowel",glyph:"\u0908",matra:"\u0940"},\u012B:{type:"vowel",glyph:"\u0908",matra:"\u0940"},ii:{type:"vowel",glyph:"\u0908",matra:"\u0940"},j:{type:"consonant",glyph:"\u091C"},jh:{type:"consonant",glyph:"\u091D"},k:{type:"consonant",glyph:"\u0915"},kh:{type:"consonant",glyph:"\u0916"},l:{type:"consonant",glyph:"\u0932"},L:{type:"consonant",glyph:"\u0933"},m:{type:"consonant",glyph:"\u092E"},M:{type:"mark",glyph:"\u0902"},MM:{type:"mark",glyph:"\u0901"},n:{type:"consonant",glyph:"\u0928"},N:{type:"consonant",glyph:"\u0923"},ng:{type:"consonant",glyph:"\u0919"},ny:{type:"consonant",glyph:"\u091E"},o:{type:"vowel",glyph:"\u0913",matra:"\u094B"},p:{type:"consonant",glyph:"\u092A"},ph:{type:"consonant",glyph:"\u092B"},r:{type:"consonant",glyph:"\u0930"},R:{type:"consonant",glyph:"\u0930"},ri:{type:"vowel",glyph:"\u090B",matra:"\u0943"},s:{type:"consonant",glyph:"\u0938"},sh:{type:"consonant",glyph:"\u0936"},Sh:{type:"consonant",glyph:"\u0937"},t:{type:"consonant",glyph:"\u0924"},T:{type:"consonant",glyph:"\u091F"},th:{type:"consonant",glyph:"\u0925"},Th:{type:"consonant",glyph:"\u0920"},u:{type:"vowel",glyph:"\u0909",matra:"\u0941"},U:{type:"vowel",glyph:"\u090A",matra:"\u0942"},\u016B:{type:"vowel",glyph:"\u090A",matra:"\u0942"},uu:{type:"vowel",glyph:"\u090A",matra:"\u0942"},v:{type:"consonant",glyph:"\u0935"},w:{type:"consonant",glyph:"\u0935"},W:{type:"consonant",glyph:"\u0935"},x:{type:"conjunct",glyph:"\u0915\u094D\u0937"},y:{type:"consonant",glyph:"\u092F"},B:{type:"consonant",glyph:"\u092C"},G:{type:"consonant",glyph:"\u0917"},J:{type:"consonant",glyph:"\u091C"},K:{type:"consonant",glyph:"\u0915"},P:{type:"consonant",glyph:"\u092A"},V:{type:"consonant",glyph:"\u0935"},X:{type:"conjunct",glyph:"\u0915\u094D\u0937"},Y:{type:"consonant",glyph:"\u092F"},E:{type:"vowel",glyph:"\u090F",matra:"\u0947"},O:{type:"vowel",glyph:"\u0913",matra:"\u094B"},Ch:{type:"consonant",glyph:"\u091A"},Ph:{type:"consonant",glyph:"\u092B"},Bh:{type:"consonant",glyph:"\u092D"},Gh:{type:"consonant",glyph:"\u0918"},Kh:{type:"consonant",glyph:"\u0916"},Ny:{type:"consonant",glyph:"\u091E"},Ng:{type:"consonant",glyph:"\u0919"}};function tn(){return{children:new Map,terminal:null}}function v(n){let t=tn();for(let[a,e]of Object.entries(n)){if(a.length===0)continue;let o=t;for(let p of a){let l=o.children.get(p);l||(l=tn(),o.children.set(p,l)),o=l}o.terminal={key:a,value:e}}return t}function f(n,t,a=0){let e=n,o=a,p=0,l="",r=null;for(;e&&o<t.length;){let s=t[o],c=e.children.get(s);if(!c)return{isPrefix:!1,matched:p>0,key:l,value:r,length:p};e=c,o+=1,e.terminal&&(p=o-a,l=e.terminal.key,r=e.terminal.value)}return{isPrefix:!!e&&o===t.length,matched:p>0,key:l,value:r,length:p}}function Pn(n){let t=n;return{isPrefix:!!t?.isPrefix,matched:!!t?.matched,key:typeof t?.key=="string"?t.key:"",value:t?.value??null,length:Number.isFinite(t?.length)?Math.max(0,Number(t?.length)):0}}async function jn(){let n=["@lipic/rust-core","../../rust-core/pkg/rust_core.js"],t;for(let a of n)try{return await import(a)}catch(e){t=e}throw t??new Error("No WASM trie module could be loaded")}async function Cn(n,t={}){let{moduleLoader:a=jn,fallbackToJs:e=!0}=t;try{let o=await a();typeof o.default=="function"&&await o.default();let p=new o.WasmTrie(n);return{walkLongest(l,r=0){return Pn(p.walk_longest(l,r))}}}catch(o){if(!e)throw o;let p=v(n);return{walkLongest(l,r=0){return f(p,l,r)}}}}function P(){let n=[];return{push(t){n.push(t)},pop(){return n.pop()},clear(){n.length=0},toString(){return n.join("")},size(){return n.length},isEmpty(){return n.length===0}}}function Sn(n,t){return n==="\u0915"&&(t==="\u0937"||t==="\u0936")?"\u0915\u094D\u0937":n==="\u091C"&&t==="\u091E"?"\u091C\u094D\u091E":n==="\u0924"&&t==="\u092F"?"\u0924\u094D\u092F":n==="\u0917"&&t==="\u092F"?"\u091C\u094D\u091E":null}var en=(n,t)=>{let a=[];for(let e=0;e<n.length;e+=1){let o=n[e],p=n[e+1],l=n[e+2];if(o?.kind==="consonant"&&p?.kind==="halant"&&l?.kind==="consonant"){let r=Sn(o.glyph,l.glyph);if(r){a.push({kind:"consonant",glyph:r}),e+=2;continue}}a.push(o)}return a};function an(n){return n.kind!=="raw"?!1:/[\s.,!?;:()[\]{}'"-]/u.test(n.text)}var Wn=new Set(["\u0919","\u091E","\u0923","\u0928","\u092E"]),On=[{chars:new Set(["\u0915","\u0916","\u0917","\u0918"]),nasal:"\u0919"},{chars:new Set(["\u091A","\u091B","\u091C","\u091D"]),nasal:"\u091E"},{chars:new Set(["\u091F","\u0920","\u0921","\u0922"]),nasal:"\u0923"},{chars:new Set(["\u0924","\u0925","\u0926","\u0927"]),nasal:"\u0928"},{chars:new Set(["\u092A","\u092B","\u092C","\u092D"]),nasal:"\u092E"}];function Nn(n){for(let t of On)if(t.chars.has(n))return t.nasal;return null}var on=(n,t)=>{let a=[];for(let e=0;e<n.length;e+=1){let o=n[e],p=n[e+1],l=n[e+2];if(!(o?.kind==="consonant"&&Wn.has(o.glyph)&&p?.kind==="halant"&&l?.kind==="consonant")){a.push(o);continue}if(t.options.nasalizationMode==="anusvara"){a.push({kind:"mark",glyph:"\u0902"}),e+=1;continue}let s=Nn(l.glyph);if(!s){a.push(o);continue}a.push({kind:"consonant",glyph:s})}return a};function L(n,t){return n?.kind==="raw"&&n.text===t}function pn(n,t){return n?.kind==="consonant"&&n.glyph===t}function _n(n){return n?.kind==="vowelIndependent"&&n.glyph==="\u0905"}function R(n,t,a){return n.push({kind:"consonant",glyph:t}),_n(a)?(n.push({kind:"matra",glyph:"\u093E"}),!0):!1}var rn=(n,t)=>{let a=[];for(let e=0;e<n.length;e+=1){let o=n[e],p=n[e+1];if(pn(o,"\u0915")&&L(p,"*")){let l=n[e+2];if(R(a,"\u0958",l)){e+=2;continue}e+=1;continue}if(pn(o,"\u0917")&&L(p,"*")){let l=n[e+2];if(R(a,"\u095A",l)){e+=2;continue}e+=1;continue}if(L(o,"q")){R(a,"\u0958",p)&&(e+=1);continue}if(L(o,"f")){R(a,"\u095E",p)&&(e+=1);continue}a.push(o)}return a};function m(n,t){return n?.kind==="consonant"&&n.glyph===t}function Fn(n,t){return n?.kind==="matra"&&n.glyph===t}function Bn(n,t){return n?.kind==="mark"&&n.glyph===t}function d(n,t){return n?.kind===t}function T(n,t){let a=n[t+1];return!a||an(a)}var ln=(n,t)=>{let a=n.map(e=>({...e}));for(let e=0;e<a.length;e+=1)Bn(a[e],"\u0902")&&d(a[e+1],"consonant")&&d(a[e+2],"inherentA")&&T(a,e+2)&&(a[e+2]={kind:"matra",glyph:"\u093E"}),m(a[e],"\u0915")&&d(a[e+1],"inherentA")&&m(a[e+2],"\u092F")&&T(a,e+2)&&(a[e+1]={kind:"matra",glyph:"\u093E"}),m(a[e],"\u0958")&&d(a[e+1],"inherentA")&&T(a,e+1)&&(a[e+1]={kind:"matra",glyph:"\u093E"}),m(a[e],"\u0930")&&d(a[e+1],"halant")&&m(a[e+2],"\u0924")&&d(a[e+3],"inherentA")&&m(a[e+4],"\u092F")&&T(a,e+4)&&(a.splice(e+1,1),a[e+2]={kind:"matra",glyph:"\u093E"}),m(a[e],"\u0930")&&d(a[e+1],"halant")&&m(a[e+2],"\u0924")&&Fn(a[e+3],"\u094B")&&m(a[e+4],"\u0938")&&T(a,e+4)&&a.splice(e+1,1);return a};function sn(n,t){let a=t.options.enableNukta?rn(n,t):n,e=on(a,t),o=t.options.enableLigatureCollapse?en(e,t):e;return t.options.enableSchwaDeletion?ln(o,t):o}function C(n){let t=n;return typeof t.getRuntime=="function"?t.getRuntime():"js"}var Dn={enableNukta:!0,nasalizationMode:"anusvara",enableLigatureCollapse:!0,enableSchwaDeletion:!0};function yn(n){return/[\s.,!?;:()[\]{}"'-]/u.test(n)}function Vn(n){return/\s/u.test(n)?"start":"other"}function cn(n){return n.kind==="consonant"}function gn(n,t){return n.type==="vowel"?t==="afterConsonant"?(n.matra??"")===""?{tokens:[{kind:"inherentA"}],context:"afterVowel"}:{tokens:[{kind:"matra",glyph:n.matra??""}],context:"afterVowel"}:{tokens:[{kind:"vowelIndependent",glyph:n.glyph}],context:"afterVowel"}:n.type==="consonant"||n.type==="conjunct"?{tokens:[{kind:"consonant",glyph:n.glyph}],context:"afterConsonant"}:n.type==="mark"?{tokens:[{kind:"mark",glyph:n.glyph}],context:t}:{tokens:[{kind:"raw",text:n.glyph}],context:t}}function Hn(n){let t=[];for(let a=0;a<n.length;a+=1){let e=n[a],o=n[a+1];t.push(e),cn(e)&&o&&cn(o)&&t.push({kind:"halant",glyph:"\u094D"})}return t}function zn(n,t){let a=[],e=0,o="start";for(;e<n.length;){let p=f(t,n,e);if(p.matched&&p.value){if(p.key==="ng"&&e+p.length<n.length&&/[aAiIuUeEoOāīū]/u.test(n[e+p.length])){let c=f(t,"n");if(c.matched&&c.value){let y=gn(c.value,o);a.push(...y.tokens),o=y.context,e+=1;continue}}let s=gn(p.value,o);a.push(...s.tokens),o=s.context,e+=p.length;continue}let l=n[e];a.push({kind:"raw",text:l}),o=Vn(l),e+=1}return Hn(a)}function Kn(n){let t="";for(let a of n)if(a.kind!=="inherentA"){if(a.kind==="raw"){t+=a.text;continue}t+=a.glyph}return t}function hn(n,t,a){let e=zn(n,t),p=sn(e,{options:a});return Kn(p)}function u(n){let t=n.trie??v(n.expandedMap),a={...Dn,...n.rules??{}},e=P(),o="";function p(){let r=hn(e.toString(),t,a),s={backspace:o.length,insert:r};return o=r,s}return{processChar(r){return yn(r)?(e.clear(),o="",{backspace:0,insert:r}):(e.push(r),p())},processText(r){e.clear();let s=r.split(/(\s+|[.,!?;:()[\]{}'"-])/),c="";for(let i of s)yn(i)||i===""?c+=i:c+=hn(i,t,a);let y={backspace:o.length,insert:c};return o=c,y},backspace(){return e.isEmpty()?{backspace:0,insert:""}:(e.pop(),p())},commit(){return e.isEmpty()?{backspace:0,insert:""}:(e.clear(),o="",{backspace:0,insert:""})},reset(){e.clear(),o=""},getRuntime(){return"js"}}}function M(n){let t=n,a=Number.isFinite(t?.backspace)?Math.max(0,Number(t?.backspace)):0,e=typeof t?.insert=="string"?t.insert:"";return{backspace:a,insert:e}}function un(n,t,a){let e="wasm",o=null,p=r=>{if(!a||!t)throw r;return o||(o=u(t),e="js"),o};return{processChar(r){if(o)return o.processChar(r);try{return M(n.process_char(r))}catch(s){return p(s).processChar(r)}},processText(r){if(o)return o.processText(r);try{return M(n.process_text(r))}catch(s){return p(s).processText(r)}},backspace(){if(o)return o.backspace();try{return M(n.backspace())}catch(r){return p(r).backspace()}},commit(){if(o)return o.commit();try{return M(n.commit())}catch(r){return p(r).commit()}},reset(){if(o){o.reset();return}try{n.reset()}catch(r){p(r).reset()}},getRuntime(){return e}}}async function w(){let n=["@lipic/rust-core","./wasm/rust_core.js","../wasm/rust_core.js","../../rust-core/pkg/rust_core.js"],t;for(let a of n)try{return await import(a)}catch(e){t=e}throw t??new Error("No WASM language-pack module could be loaded")}async function S(n,t={}){let{moduleLoader:a=w}=t,e=await a();typeof e.default=="function"&&await e.default();let o=e.compile_language_pack(n.expandedMap,n.scriptId,n.languageId,n.rules);return o instanceof Uint8Array?o:Uint8Array.from(o)}async function W(n,t={}){let{moduleLoader:a=w}=t,e=await a();typeof e.default=="function"&&await e.default();let o=e.compile_script_base_pack(n.expandedMap,n.scriptId);return o instanceof Uint8Array?o:Uint8Array.from(o)}async function O(n,t={}){let{moduleLoader:a=w}=t,e=await a();typeof e.default=="function"&&await e.default();let o=e.compile_language_overlay_pack(n.expandedMap,n.scriptId,n.languageId,n.rules);return o instanceof Uint8Array?o:Uint8Array.from(o)}async function Gn(n,t={}){let{moduleLoader:a=w}=t,e=await a();return typeof e.default=="function"&&await e.default(),e.inspect_language_pack(n)}async function N(n,t,a={}){let{moduleLoader:e=w,fallbackToJs:o=!0}=a;try{let p=await e();typeof p.default=="function"&&await p.default();let l=p.Engine.fromLanguagePack(n);return un(l,t,o)}catch(p){if(!o||!t)throw p;return u(t)}}async function _(n,t,a,e={}){let{moduleLoader:o=w,fallbackToJs:p=!0}=e;try{let l=await o();typeof l.default=="function"&&await l.default();let r=l.Engine.fromLanguagePacks(n,t);return un(r,a,p)}catch(l){if(!p||!a)throw l;return u(a)}}function I(n){let t=n,a=Number.isFinite(t?.backspace)?Math.max(0,Number(t?.backspace)):0,e=typeof t?.insert=="string"?t.insert:"";return{backspace:a,insert:e}}async function Jn(){let n=["@lipic/rust-core","./wasm/rust_core.js","../wasm/rust_core.js","../../rust-core/pkg/rust_core.js"],t;for(let a of n)try{return await import(a)}catch(e){t=e}throw t??new Error("No WASM engine module could be loaded")}async function F(n,t={}){let{moduleLoader:a=Jn,fallbackToJs:e=!0}=t;try{let o=await a();typeof o.default=="function"&&await o.default();let p=new o.Engine(n.expandedMap,n.rules),l="wasm",r=null,s=y=>{if(!e)throw y;return r||(r=u(n),l="js"),r};return{processChar(y){if(r)return r.processChar(y);try{return I(p.process_char(y))}catch(i){return s(i).processChar(y)}},processText(y){if(r)return r.processText(y);try{return I(p.process_text(y))}catch(i){return s(i).processText(y)}},backspace(){if(r)return r.backspace();try{return I(p.backspace())}catch(y){return s(y).backspace()}},commit(){if(r)return r.commit();try{return I(p.commit())}catch(y){return s(y).commit()}},reset(){if(r){r.reset();return}try{p.reset()}catch(y){s(y).reset()}},getRuntime(){return l}}}catch(o){if(!e)throw o;return u(n)}}var $n=new Map;function qn(n){let t=n.isWasm??n.wasm;return t!==void 0?{mode:t,fallbackToJs:n.fallbackToJs??!0}:n.preferWasm===!1?{mode:!1,fallbackToJs:!0}:n.fallbackToJs===!1?{mode:!0,fallbackToJs:!1}:{mode:"auto",fallbackToJs:!0}}async function mn(n,t,a){let{moduleLoader:e,scriptId:o,languageId:p,scriptBaseMap:l,languageOverlayMap:r,packCache:s=$n,packCacheKey:c}=t;if(o&&p){if(l&&r){let i=`${o}:__base__:${Object.keys(l).length}`,k=c??`${o}:${p}:__overlay__:${JSON.stringify(n.rules??{})}:${Object.keys(r).length}`;try{let g=s.get(i);g||(g=await W({expandedMap:l,scriptId:o},{moduleLoader:e,fallbackToJs:a}),s.set(i,g));let h=s.get(k);return h||(h=await O({expandedMap:r,scriptId:o,languageId:p,rules:n.rules},{moduleLoader:e,fallbackToJs:a}),s.set(k,h)),_(g,h,n,{moduleLoader:e,fallbackToJs:a})}catch(g){if(!a)throw g}}let y=c??`${o}:${p}:${JSON.stringify(n.rules??{})}:${Object.keys(n.expandedMap).length}`;try{let i=s.get(y);return i||(i=await S({...n,scriptId:o,languageId:p},{moduleLoader:e,fallbackToJs:a}),s.set(y,i)),N(i,n,{moduleLoader:e,fallbackToJs:a})}catch(i){if(!a)throw i}}return F(n,{moduleLoader:e,fallbackToJs:a})}async function B(n,t={}){let{mode:a,fallbackToJs:e}=qn(t);if(a===!1)return u(n);if(a===!0)return mn(n,t,e);let o=u(n),p=null;try{p=await mn(n,t,!0)}catch{p=null}return!p||C(p)==="js"?o:{processChar(r){return o.processChar(r)},processText(r){let s=o.processText(r);try{let c=p.processText(r);return{backspace:s.backspace,insert:c.insert}}catch{return s}},backspace(){return o.backspace()},commit(){let r=o.commit();try{p.commit()}catch{}return r},reset(){o.reset();try{p.reset()}catch{}},getRuntime(){return"hybrid"}}}function Zn(n){let t=n.value.length,a=n.selectionStart??t,e=n.selectionEnd??t;return{start:Math.max(0,Math.min(a,t)),end:Math.max(0,Math.min(e,t))}}function Yn(n){try{let t=new InputEvent("input",{bubbles:!0,cancelable:!1,inputType:"insertText",data:null});n.dispatchEvent(t)}catch{let t=new Event("input",{bubbles:!0,cancelable:!1});n.dispatchEvent(t)}}function b(n,t,a){let{start:e,end:o}=Zn(n),p=Math.max(0,e-Math.max(0,t));if(typeof n.setRangeText=="function")n.setRangeText(a,p,o,"end");else{let r=`${n.value.slice(0,p)}${a}${n.value.slice(o)}`;n.value=r;let s=p+a.length;n.setSelectionRange(s,s)}Yn(n);let l=p+a.length;return{start:l,end:l}}var U=class{element;constructor(t){this.element=t}deleteAndInsert(t,a,e){if(typeof t=="number"){if(!this.element||typeof a!="string")throw new Error("DOMIntegrator requires a bound element for deleteAndInsert(backspace, insert).");return b(this.element,t,a)}if(typeof a!="number"||typeof e!="string")throw new Error("deleteAndInsert(el, backspace, insert) requires all arguments.");return b(t,a,e)}};function Xn(n){if(n.childNodes.length===0){let e=n.ownerDocument.createTextNode("");return n.appendChild(e),e}if(n.childNodes.length===1&&n.firstChild?.nodeType===Node.TEXT_NODE)return n.firstChild;let t=n.textContent??"";n.textContent="";let a=n.ownerDocument.createTextNode(t);return n.appendChild(a),a}function D(n,t,a){let e=n.ownerDocument.getSelection();if(!e||e.rangeCount===0)return{collapsed:!1,applied:!1};let o=e.getRangeAt(0);if(!o.collapsed||!n.contains(o.startContainer))return{collapsed:!1,applied:!1};let p=Xn(n),l=p.data,r=l.length;o.startContainer===p&&(r=Math.max(0,Math.min(o.startOffset,l.length)));let s=Math.max(0,r-Math.max(0,t)),c=`${l.slice(0,s)}${a}${l.slice(r)}`;p.data=c;let y=s+a.length,i=n.ownerDocument.createRange();return i.setStart(p,y),i.collapse(!0),e.removeAllRanges(),e.addRange(i),{collapsed:!0,applied:!0}}function Qn(n){return n instanceof HTMLTextAreaElement?!0:n instanceof HTMLInputElement?n.type==="text":!1}function nt(n){return n instanceof HTMLElement&&n.isContentEditable}function tt(n){return n.ctrlKey||n.altKey||n.metaKey}function et(n){return n===" "||n==="Enter"||n==="Tab"}function V(n){let t=n.element,a=n.engine,e=n.onEditApplied,o=n.onBypass,p=n.enabled??!0,l=!1,r=!1,s=g=>{if(Qn(t))return b(t,g.backspace,g.insert),e?.(g),!0;if(nt(t)){let h=D(t,g.backspace,g.insert);return h.collapsed?h.applied?(e?.(g),!0):!1:(o?.("selection"),!1)}return o?.("unsupported-target"),!1},c=()=>{r=!0},y=()=>{r=!1},i=g=>{if(!p){o?.("disabled");return}if(tt(g)){o?.("modifier");return}if(r){o?.("composition");return}if(et(g.key)){a.commit();return}if(g.key!=="Backspace")return;let h=a.backspace();h.backspace===0&&h.insert===""||s(h)&&g.preventDefault()},k=g=>{if(!p){o?.("disabled");return}if(r){o?.("composition");return}if(g.inputType!=="insertText")return;let h=g.data;if(!h)return;let dn=h.length>1?a.processText(h):a.processChar(h);s(dn)&&g.preventDefault()};return{attach(){l||(t.addEventListener("compositionstart",c),t.addEventListener("compositionend",y),t.addEventListener("keydown",i),t.addEventListener("beforeinput",k),l=!0)},detach(){l&&(t.removeEventListener("compositionstart",c),t.removeEventListener("compositionend",y),t.removeEventListener("keydown",i),t.removeEventListener("beforeinput",k),l=!1)},isAttached(){return l}}}var A={hi:{code:"hi",name:"Hindi",script:"Devanagari",status:"available",scriptId:"devanagari",languageId:"hindi",expandedMap:E},mr:{code:"mr",name:"Marathi",script:"Devanagari",status:"available",scriptId:"devanagari",languageId:"marathi",expandedMap:x},ne:{code:"ne",name:"Nepali",script:"Devanagari",status:"planned"},sa:{code:"sa",name:"Sanskrit",script:"Devanagari",status:"planned"},bn:{code:"bn",name:"Bengali",script:"Bengali",status:"planned"},as:{code:"as",name:"Assamese",script:"Bengali",status:"planned"},gu:{code:"gu",name:"Gujarati",script:"Gujarati",status:"planned"},pa:{code:"pa",name:"Punjabi",script:"Gurmukhi",status:"planned"},ta:{code:"ta",name:"Tamil",script:"Tamil",status:"planned"},te:{code:"te",name:"Telugu",script:"Telugu",status:"planned"},kn:{code:"kn",name:"Kannada",script:"Kannada",status:"planned"},ml:{code:"ml",name:"Malayalam",script:"Malayalam",status:"planned"},or:{code:"or",name:"Odia",script:"Odia",status:"planned"}};function at(){return Object.values(A).map(n=>({code:n.code,name:n.name,script:n.script,status:n.status}))}function ot(n){let t=A[n];return{code:t.code,name:t.name,script:t.script,status:t.status}}function pt(n){return A[n].status==="available"}function H(n){let t=A[n];if(t.status!=="available")throw new Error(`Language "${n}" (${t.name}) is planned but not available yet.`);return{expandedMap:t.expandedMap,scriptId:t.scriptId,languageId:t.languageId}}var rt="input[type='text'], textarea, [contenteditable='true']";function lt(n){if(n.elements)return Array.from(n.elements);if(typeof document>"u")return[];let t=n.selector??rt;return Array.from(document.querySelectorAll(t))}async function st(n){let t=H(n.language),a=lt(n),e=[];for(let o of a){let p=await B({expandedMap:t.expandedMap,rules:n.rules},{...n.engineFactoryOptions,scriptId:t.scriptId,languageId:t.languageId}),l=V({element:o,engine:p,enabled:n.enabled,onEditApplied:n.onEditApplied,onBypass:n.onBypass});l.attach(),e.push(l)}return{language:n.language,attachedCount:e.length,detach(){for(let o of e)o.detach()}}}var be={devanagari:{base:z,schemes:{iast:J,iso15919:$,harvardKyoto:G,itrans:q,velthuis:Y,slp1:Z,wx:X,hunterian:K}},hindi:{phonetic:{base:Q,expanded:E}},marathi:{phonetic:{base:nn,expanded:x}}};export{U as DOMIntegrator,v as buildTrie,O as compileWasmLanguageOverlayPack,S as compileWasmLanguagePack,W as compileWasmScriptBasePack,B as createHybridTransliterationEngine,V as createInputInterceptor,P as createInputStack,u as createTransliterationEngine,N as createWasmEngineFromLanguagePack,_ as createWasmEngineFromLanguagePacks,F as createWasmTransliterationEngine,Cn as createWasmTrie,b as deleteAndInsert,D as deleteAndInsertContentEditable,z as devanagariBase,G as devanagariHarvardKyoto,K as devanagariHunterian,J as devanagariIAST,$ as devanagariISO15919,q as devanagariITRANS,Z as devanagariSLP1,Y as devanagariVelthuis,X as devanagariWX,st as enableTransliteration,C as getEngineRuntime,ot as getLanguage,Q as hindiPhoneticBase,E as hindiPhoneticExpanded,Gn as inspectWasmLanguagePack,pt as isLanguageAvailable,at as listLanguages,be as maps,nn as marathiPhoneticBase,x as marathiPhoneticExpanded,H as resolveLanguageEngineConfig,f as walkLongest};
//# sourceMappingURL=index.js.map